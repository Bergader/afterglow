<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>afterglow.controllers.ableton-push documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Afterglow 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>afterglow</span></div></div></li><li class="depth-2 branch"><a href="afterglow.channels.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channels</span></div></a></li><li class="depth-2"><a href="afterglow.controllers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>controllers</span></div></a></li><li class="depth-3 current"><a href="afterglow.controllers.ableton-push.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ableton-push</span></div></a></li><li class="depth-2 branch"><a href="afterglow.core.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="afterglow.dj-link.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dj-link</span></div></a></li><li class="depth-2"><a href="afterglow.effects.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>effects</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.channel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channel</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.dimmer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dimmer</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.fun.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fun</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.movement.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>movement</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.oscillators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oscillators</span></div></a></li><li class="depth-3"><a href="afterglow.effects.params.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>params</span></div></a></li><li class="depth-2 branch"><a href="afterglow.examples.html"><div class="inner"><span class="tree" style="top: -238px;"><span class="top" style="height: 247px;"></span><span class="bottom"></span></span><span>examples</span></div></a></li><li class="depth-2"><a href="afterglow.fixtures.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fixtures</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.blizzard.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>blizzard</span></div></a></li><li class="depth-3"><a href="afterglow.fixtures.chauvet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chauvet</span></div></a></li><li class="depth-2 branch"><a href="afterglow.midi.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>midi</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-client</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-messages.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-messages</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-service.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-service</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rhythm</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rpc-messages.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rpc-messages</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rpc-service.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rpc-service</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show-context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-context</span></div></a></li><li class="depth-2 branch"><a href="afterglow.src-generator.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>src-generator</span></div></a></li><li class="depth-2 branch"><a href="afterglow.transform.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transform</span></div></a></li><li class="depth-2 branch"><a href="afterglow.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web</span></div></div></li><li class="depth-3 branch"><a href="afterglow.web.handler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.layout.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>layout</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></div></li><li class="depth-4 branch"><a href="afterglow.web.routes.home.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>home</span></div></a></li><li class="depth-4"><a href="afterglow.web.routes.visualizer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>visualizer</span></div></a></li><li class="depth-3"><a href="afterglow.web.session.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>session</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-active-bindings"><div class="inner"><span>active-bindings</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-add-button-held-feedback-overlay"><div class="inner"><span>add-button-held-feedback-overlay</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-add-control-held-feedback-overlay"><div class="inner"><span>add-control-held-feedback-overlay</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-add-overlay"><div class="inner"><span>add-overlay</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-bind-to-show"><div class="inner"><span>bind-to-show</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-button-state"><div class="inner"><span>button-state</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-clear-display-line"><div class="inner"><span>clear-display-line</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-clear-interface"><div class="inner"><span>clear-interface</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-color-button-colors"><div class="inner"><span>color-button-colors</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-control-buttons"><div class="inner"><span>control-buttons</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-controller-counter"><div class="inner"><span>controller-counter</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-deactivate"><div class="inner"><span>deactivate</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-deactivate-all"><div class="inner"><span>deactivate-all</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-IOverlay"><div class="inner"><span>IOverlay</span></div></a></li><li class="depth-2 branch"><a href="afterglow.controllers.ableton-push.html#var-adjust-interface"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>adjust-interface</span></div></a></li><li class="depth-2 branch"><a href="afterglow.controllers.ableton-push.html#var-captured-controls"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>captured-controls</span></div></a></li><li class="depth-2 branch"><a href="afterglow.controllers.ableton-push.html#var-captured-notes"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>captured-notes</span></div></a></li><li class="depth-2 branch"><a href="afterglow.controllers.ableton-push.html#var-handle-control-change"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handle-control-change</span></div></a></li><li class="depth-2 branch"><a href="afterglow.controllers.ableton-push.html#var-handle-note-off"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handle-note-off</span></div></a></li><li class="depth-2"><a href="afterglow.controllers.ableton-push.html#var-handle-note-on"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handle-note-on</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-make-gauge"><div class="inner"><span>make-gauge</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-make-pan-gauge"><div class="inner"><span>make-pan-gauge</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-monochrome-button-states"><div class="inner"><span>monochrome-button-states</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-off-color"><div class="inner"><span>off-color</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-set-button-state"><div class="inner"><span>set-button-state</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-set-display-line"><div class="inner"><span>set-display-line</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-set-pad-color"><div class="inner"><span>set-pad-color</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-set-pad-velocity"><div class="inner"><span>set-pad-velocity</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-set-second-pad-color"><div class="inner"><span>set-second-pad-color</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-set-top-pad-state"><div class="inner"><span>set-top-pad-state</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-sign-velocity"><div class="inner"><span>sign-velocity</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-special-symbols"><div class="inner"><span>special-symbols</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-top-pad-state"><div class="inner"><span>top-pad-state</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-update-cue-grid"><div class="inner"><span>update-cue-grid</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-update-interface"><div class="inner"><span>update-interface</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-update-text"><div class="inner"><span>update-text</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-update-text-buttons"><div class="inner"><span>update-text-buttons</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-update-top-pads"><div class="inner"><span>update-top-pads</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-velocity-for-color"><div class="inner"><span>velocity-for-color</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-welcome-animation"><div class="inner"><span>welcome-animation</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-welcome-frame"><div class="inner"><span>welcome-frame</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.ableton-push.html#var-write-display-cell"><div class="inner"><span>write-display-cell</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">afterglow.controllers.ableton-push</h2><div class="doc"><div class="markdown"><p>Allows the Ableton Push to be used as a control surface for Afterglow.</p></div></div><div class="public anchor" id="var-active-bindings"><h3>active-bindings</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Controllers which are currently bound to shows,
indexed by the controller binding ID.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L808">view source</a></div></div><div class="public anchor" id="var-add-button-held-feedback-overlay"><h3>add-button-held-feedback-overlay</h3><div class="usage"><code>(add-button-held-feedback-overlay controller button)</code></div><div class="doc"><pre class="plaintext">Adds a simple overlay which keeps a control button bright as long
as the user is holding it down.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L950">view source</a></div></div><div class="public anchor" id="var-add-control-held-feedback-overlay"><h3>add-control-held-feedback-overlay</h3><div class="usage"><code>(add-control-held-feedback-overlay controller control-num f)</code></div><div class="doc"><pre class="plaintext">Builds a simple overlay which just adds something to the user
interface until a particular control is released, and adds it to the
controller. The overlay will end when a control-change message with
value 0 is sent to the specified control number. Other than that,
all it does is call the supplied function every time the interface
is being updated.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L63">view source</a></div></div><div class="public anchor" id="var-add-overlay"><h3>add-overlay</h3><div class="usage"><code>(add-overlay controller overlay)</code></div><div class="doc"><pre class="plaintext">Add a temporary overlay to the interface.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L57">view source</a></div></div><div class="public anchor" id="var-bind-to-show"><h3>bind-to-show</h3><div class="usage"><code>(bind-to-show show &amp; {:keys [device-name refresh-interval], :or {device-name &quot;User Port&quot;, refresh-interval show/default-refresh-interval}})</code></div><div class="doc"><div class="markdown"><p>Establish a connection to the Ableton Push, for managing the given show.</p><p>Initializes the display, and starts the UI updater thread. Since SysEx messages are required for updating the display, if you are on a Mac, you must install <a href="http://www.humatic.de/htools/mmj.htm">mmj</a> to provide a working implementation.</p><p>If you have more than one Ableton Push connected, or have renamed how it appears in your list of MIDI devices, you need to supply a value after <code>:device-name</code> which identifies the ports to be used to communicate with the Push you want this function to use. The values returned by <a href="afterglow.midi.html#var-open-inputs-if-needed.21">afterglow.midi/open-inputs-if-needed!</a> and <a href="afterglow.midi.html#var-open-outputs-if-needed.21">afterglow.midi/open-outputs-if-needed!</a> will be searched, and the first port whose name or description contains the supplied string will be used.</p><p>If you want the user interface to be refreshed at a different rate than the default of thirty times per second, pass your desired number of milliseconds after <code>:refresh-interval</code>.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L1051">view source</a></div></div><div class="public anchor" id="var-button-state"><h3>button-state</h3><div class="usage"><code>(button-state button state)</code><code>(button-state button state color-key)</code></div><div class="doc"><pre class="plaintext">Calculate the numeric value that corresponds to a particular
named state for the specified button, and (if supported and
supplied), a named color.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L224">view source</a></div></div><div class="public anchor" id="var-clear-display-line"><h3>clear-display-line</h3><div class="usage"><code>(clear-display-line controller line)</code></div><div class="doc"><pre class="plaintext">Clears a line of the text display.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L294">view source</a></div></div><div class="public anchor" id="var-clear-interface"><h3>clear-interface</h3><div class="usage"><code>(clear-interface controller)</code></div><div class="doc"><pre class="plaintext">Clears the text display and all illuminated buttons and pads.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L786">view source</a></div></div><div class="public anchor" id="var-color-button-colors"><h3>color-button-colors</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The control values and modes for a labeled button which changes
color. These are added to the monocrome states (except for off)
to obtain the color and brightness/behavior.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L139">view source</a></div></div><div class="public anchor" id="var-control-buttons"><h3>control-buttons</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The labeled buttons which send and respond to Control Change
events.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L145">view source</a></div></div><div class="public anchor" id="var-controller-counter"><h3>controller-counter</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Counts the controller bindings which have been made,
so each can be assigned a unique ID.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L804">view source</a></div></div><div class="public anchor" id="var-deactivate"><h3>deactivate</h3><div class="usage"><code>(deactivate controller)</code></div><div class="doc"><pre class="plaintext">Deactivates a controller interface, killing its update thread
and removing its MIDI listeners.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L1107">view source</a></div></div><div class="public anchor" id="var-deactivate-all"><h3>deactivate-all</h3><div class="usage"><code>(deactivate-all)</code></div><div class="doc"><pre class="plaintext">Deactivates all controller bindings which are currently active.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L1126">view source</a></div></div><div class="public anchor" id="var-IOverlay"><h3>IOverlay</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">An activity which takes over part of the user interface
while it is active.</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-adjust-interface"><h3>adjust-interface</h3><div class="usage"><code>(adjust-interface this controller)</code></div><div class="doc"><pre class="plaintext">Set values for the next frame of the controller interface; return
a falsey value if the overlay is finished and should be removed.</pre></div></div><div class="public anchor" id="var-captured-controls"><h3>captured-controls</h3><div class="usage"><code>(captured-controls this)</code></div><div class="doc"><pre class="plaintext">The MIDI control-change events that will be consumed by this
overlay while it is active, a set of integers.</pre></div></div><div class="public anchor" id="var-captured-notes"><h3>captured-notes</h3><div class="usage"><code>(captured-notes this)</code></div><div class="doc"><pre class="plaintext">The MIDI note events that will be consumed by this overlay while
it is active, a set of integers.</pre></div></div><div class="public anchor" id="var-handle-control-change"><h3>handle-control-change</h3><div class="usage"><code>(handle-control-change this controller message)</code></div><div class="doc"><pre class="plaintext">Called when a MIDI control-change event matching the
captured-controls lists has been received. Return a truthy value if
the overlay has consumed the event, so it should not be processed
further. If the special value :done is returned, it further
indicates the overlay is finished and should be removed.</pre></div></div><div class="public anchor" id="var-handle-note-off"><h3>handle-note-off</h3><div class="usage"><code>(handle-note-off this controller message)</code></div><div class="doc"><pre class="plaintext">Called when a MIDI note-off event matching the captured-notes
lists has been received. Return a truthy value if the overlay has
consumed the event, so it should not be processed further. If the
special value :done is returned, it further indicates the overlay is
finished and should be removed.</pre></div></div><div class="public anchor" id="var-handle-note-on"><h3>handle-note-on</h3><div class="usage"><code>(handle-note-on this controller message)</code></div><div class="doc"><pre class="plaintext">Called when a MIDI note-on event matching the captured-notes
lists has been received. Return a truthy value if the overlay has
consumed the event, so it should not be processed further. If the
special value :done is returned, it further indicates the overlay is
finished and should be removed.</pre></div></div></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L26">view source</a></div></div><div class="public anchor" id="var-make-gauge"><h3>make-gauge</h3><div class="usage"><code>(make-gauge value &amp; {:keys [lowest highest width], :or {lowest 0, highest 100, width 17}})</code></div><div class="doc"><pre class="plaintext">Create a graphical gauge with an indicator that fills a line.
The default range is from zero to a hundred, and the default size is
17 characters, or a full display cell.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L361">view source</a></div></div><div class="public anchor" id="var-make-pan-gauge"><h3>make-pan-gauge</h3><div class="usage"><code>(make-pan-gauge value &amp; {:keys [lowest highest width], :or {lowest 0, highest 100, width 17}})</code></div><div class="doc"><pre class="plaintext">Create a graphical gauge with an indicator that moves along a line.
The default range is from zero to a hundred, and the default size is
17 characters, or a full display cell. The centered display only
works for an odd width, so it is suppressed otherwise.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L375">view source</a></div></div><div class="public anchor" id="var-monochrome-button-states"><h3>monochrome-button-states</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The control values and modes for a labeled button which does not
change color.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L133">view source</a></div></div><div class="public anchor" id="var-off-color"><h3>off-color</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The color of buttons that are completely off.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L117">view source</a></div></div><div class="public anchor" id="var-set-button-state"><h3>set-button-state</h3><div class="usage"><code>(set-button-state controller button state)</code><code>(set-button-state controller button state color-key)</code></div><div class="doc"><pre class="plaintext">Set one of the labeled buttons to a particular state, and, if
supported, color. If the state is already a number, it is used
as-is, otherwise it is calculated using button-state.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L238">view source</a></div></div><div class="public anchor" id="var-set-display-line"><h3>set-display-line</h3><div class="usage"><code>(set-display-line controller line bytes)</code></div><div class="doc"><pre class="plaintext">Sets a line of the text display.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L285">view source</a></div></div><div class="public anchor" id="var-set-pad-color"><h3>set-pad-color</h3><div class="usage"><code>(set-pad-color controller x y color)</code></div><div class="doc"><pre class="plaintext">Set the color of one of the 64 touch pads to the closest
approximation available for a desired color.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L127">view source</a></div></div><div class="public anchor" id="var-set-pad-velocity"><h3>set-pad-velocity</h3><div class="usage"><code>(set-pad-velocity controller x y velocity)</code></div><div class="doc"><pre class="plaintext">Set the velocity of one of the 64 touch pads.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L120">view source</a></div></div><div class="public anchor" id="var-set-second-pad-color"><h3>set-second-pad-color</h3><div class="usage"><code>(set-second-pad-color controller x color)</code></div><div class="doc"><pre class="plaintext">Set the color of one of the 8 second-row touch pads (right above
the 8x8 pad of larger, velocity sensitive, pads) to the closest
approximation available for a desired color.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L276">view source</a></div></div><div class="public anchor" id="var-set-top-pad-state"><h3>set-top-pad-state</h3><div class="usage"><code>(set-top-pad-state controller x state)</code><code>(set-top-pad-state controller x state color-key)</code></div><div class="doc"><pre class="plaintext">Set one of the top-row pads to a particular state and color.
If state is already a number, it is used as-is, otherwise it is
calculated using top-pad-state.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L263">view source</a></div></div><div class="public anchor" id="var-sign-velocity"><h3>sign-velocity</h3><div class="usage"><code>(sign-velocity val)</code></div><div class="doc"><pre class="plaintext">Convert a midi velocity to its signed equivalent, to translate
encoder rotations, which are twos-complement seven bit numbers.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L414">view source</a></div></div><div class="public anchor" id="var-special-symbols"><h3>special-symbols</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The byte values which draw special-purpose characters on the Push
display.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L205">view source</a></div></div><div class="public anchor" id="var-top-pad-state"><h3>top-pad-state</h3><div class="usage"><code>(top-pad-state state)</code><code>(top-pad-state state color-key)</code></div><div class="doc"><pre class="plaintext">Calculate the numeric value that corresponds to a particular
named state for the specified top-row pad, and (if supplied),
named color.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L250">view source</a></div></div><div class="public anchor" id="var-update-cue-grid"><h3>update-cue-grid</h3><div class="usage"><code>(update-cue-grid controller)</code></div><div class="doc"><pre class="plaintext">See if any of the cue grid button states have changed, and send any
required updates.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L607">view source</a></div></div><div class="public anchor" id="var-update-interface"><h3>update-interface</h3><div class="usage"><code>(update-interface controller)</code></div><div class="doc"><pre class="plaintext">Determine the desired current state of the interface, and send any
changes needed to get it to that state.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L633">view source</a></div></div><div class="public anchor" id="var-update-text"><h3>update-text</h3><div class="usage"><code>(update-text controller)</code></div><div class="doc"><pre class="plaintext">Sees if any text has changed since the last time the display
was updated, and if so, sends the necessary MIDI SysEx values
to update it on the Push.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L310">view source</a></div></div><div class="public anchor" id="var-update-text-buttons"><h3>update-text-buttons</h3><div class="usage"><code>(update-text-buttons controller)</code></div><div class="doc"><pre class="plaintext">Sees if any labeled buttons have changed state since the last time
the interface was updated, and if so, sends the necessary MIDI
control values to update them on the Push.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L334">view source</a></div></div><div class="public anchor" id="var-update-top-pads"><h3>update-top-pads</h3><div class="usage"><code>(update-top-pads controller)</code></div><div class="doc"><pre class="plaintext">Sees if any of the top row of pads have changed state since
the interface was updated, and if so, sends the necessary MIDI
control values to update them on the Push.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L322">view source</a></div></div><div class="public anchor" id="var-velocity-for-color"><h3>velocity-for-color</h3><div class="usage"><code>(velocity-for-color color)</code></div><div class="doc"><div class="markdown"><p>Given a target color, calculate the MIDI note velocity which will achieve the closest approximation available on an Ableton Push pad, using the thoughtful hue palette provided by Ableton:</p><p><img src="http://deepsymmetry.org/afterglow/research/PushColors.jpg" alt="Push pad palette""/></p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L82">view source</a></div></div><div class="public anchor" id="var-welcome-animation"><h3>welcome-animation</h3><div class="usage"><code>(welcome-animation controller)</code></div><div class="doc"><pre class="plaintext">Provide a fun animation to make it clear the Push is online.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L775">view source</a></div></div><div class="public anchor" id="var-welcome-frame"><h3>welcome-frame</h3><div class="usage"><code>(welcome-frame controller counter task)</code></div><div class="doc"><pre class="plaintext">Render a frame of the welcome animation, or if it is done, start
the main interface update thread, and terminate the task running the
animation.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L697">view source</a></div></div><div class="public anchor" id="var-write-display-cell"><h3>write-display-cell</h3><div class="usage"><code>(write-display-cell controller row cell text)</code></div><div class="doc"><pre class="plaintext">Update a single text cell (of which there are four per row) in the
display to be rendered on the next update.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers/ableton_push.clj#L352">view source</a></div></div></div></body></html>