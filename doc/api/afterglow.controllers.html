<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>afterglow.controllers documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Afterglow 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>afterglow</span></div></div></li><li class="depth-2 branch"><a href="afterglow.channels.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channels</span></div></a></li><li class="depth-2 current"><a href="afterglow.controllers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>controllers</span></div></a></li><li class="depth-3"><a href="afterglow.controllers.ableton-push.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ableton-push</span></div></a></li><li class="depth-2 branch"><a href="afterglow.core.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="afterglow.dj-link.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dj-link</span></div></a></li><li class="depth-2"><a href="afterglow.effects.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>effects</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.channel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channel</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.dimmer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dimmer</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.fun.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fun</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.movement.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>movement</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.oscillators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oscillators</span></div></a></li><li class="depth-3"><a href="afterglow.effects.params.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>params</span></div></a></li><li class="depth-2 branch"><a href="afterglow.examples.html"><div class="inner"><span class="tree" style="top: -238px;"><span class="top" style="height: 247px;"></span><span class="bottom"></span></span><span>examples</span></div></a></li><li class="depth-2"><a href="afterglow.fixtures.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fixtures</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.blizzard.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>blizzard</span></div></a></li><li class="depth-3"><a href="afterglow.fixtures.chauvet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chauvet</span></div></a></li><li class="depth-2 branch"><a href="afterglow.midi.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>midi</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-client</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-messages.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-messages</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-service.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-service</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rhythm</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rpc-messages.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rpc-messages</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rpc-service.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rpc-service</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show-context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-context</span></div></a></li><li class="depth-2 branch"><a href="afterglow.src-generator.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>src-generator</span></div></a></li><li class="depth-2 branch"><a href="afterglow.transform.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transform</span></div></a></li><li class="depth-2 branch"><a href="afterglow.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web</span></div></div></li><li class="depth-3 branch"><a href="afterglow.web.handler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.layout.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>layout</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></div></li><li class="depth-4 branch"><a href="afterglow.web.routes.home.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>home</span></div></a></li><li class="depth-4"><a href="afterglow.web.routes.visualizer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>visualizer</span></div></a></li><li class="depth-3"><a href="afterglow.web.session.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>session</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="afterglow.controllers.html#var-activate-cue.21"><div class="inner"><span>activate-cue!</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.html#var-clear-cue.21"><div class="inner"><span>clear-cue!</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.html#var-cue"><div class="inner"><span>cue</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.html#var-cue-at"><div class="inner"><span>cue-at</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.html#var-cue-grid"><div class="inner"><span>cue-grid</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.html#var-grid-dimensions"><div class="inner"><span>grid-dimensions</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.html#var-grid-height"><div class="inner"><span>grid-height</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.html#var-grid-width"><div class="inner"><span>grid-width</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.html#var-pool"><div class="inner"><span>pool</span></div></a></li><li class="depth-1"><a href="afterglow.controllers.html#var-set-cue.21"><div class="inner"><span>set-cue!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">afterglow.controllers</h2><div class="doc"><div class="markdown"><p>Provides shared services for all controller implementations.</p></div></div><div class="public anchor" id="var-activate-cue.21"><h3>activate-cue!</h3><div class="usage"><code>(activate-cue! grid x y id)</code></div><div class="doc"><pre class="plaintext">Records the fact that the cue at the specified grid coordinates was
activated in a show, and assigned the specified id, which can be
used later to determine whether the same cue is still running. If id
is nil, the cue is deactivated rather than activated.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers.clj#L74">view source</a></div></div><div class="public anchor" id="var-clear-cue.21"><h3>clear-cue!</h3><div class="usage"><code>(clear-cue! grid x y)</code></div><div class="doc"><pre class="plaintext">Removes any cue which existed at the specified coordinates in the
cue grid. If one was there, updates the grid dimensions if needed.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers.clj#L48">view source</a></div></div><div class="public anchor" id="var-cue"><h3>cue</h3><div class="usage"><code>(cue show-key effect &amp; {:keys [short-name color end-keys], :or {short-name (:name effect), color :white}})</code></div><div class="doc"><div class="markdown"><p>Creates a cue for managing in a cue grid. <code>show-key</code> will be used  as the effect keyword when the cue is triggered to add it to a show,  ending any existing effect that was using that key. <code>effect</code> is the  effect function to be started and monitored when this cue is  triggered.</p><p>If supplied, <code>:short-name</code> identifies a compact, user-oriented name  to be displayed in the web interface or controller display (if it  has one) to help identify the cue, which can be helpful if the name  of the underlying <a href="null">Effect</a> is ambiguous or overly long.</p><p><code>:color</code> requests that the web interface and control surfaces draw  the cue using the specified color rather than the default white to  help the user identify it. This is only a request, as not all  control surfaces support all (or any) colors. The color is passed  to <a href="afterglow.effects.params.html#var-interpret-color">interpret-color</a>, so it can be specified in a variety of ways.</p><p><code>:end-keys</code> introduces a sequence of keywords identifying other  effects which should be ended whenever this one is started. This  allows a set of grid cues to be set up as mutually exclusive, even  if they use different keywords within the show for other reasons.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers.clj#L86">view source</a></div></div><div class="public anchor" id="var-cue-at"><h3>cue-at</h3><div class="usage"><code>(cue-at grid x y)</code></div><div class="doc"><pre class="plaintext">Find the cue, if any, at the specified coordinates.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers.clj#L28">view source</a></div></div><div class="public anchor" id="var-cue-grid"><h3>cue-grid</h3><div class="usage"><code>(cue-grid)</code></div><div class="doc"><pre class="plaintext">Return a two dimensional arrangement for launching and monitoring
cues, suitable for both a web interface and control surfaces with a
pad grid. Cues are laid out with [0, 0] being the bottom left
corner. The width of the grid is the highest x coordinate of a cue,
and the height is the highest y coordinate.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers.clj#L15">view source</a></div></div><div class="public anchor" id="var-grid-dimensions"><h3>grid-dimensions</h3><div class="usage"><code>(grid-dimensions grid)</code></div><div class="doc"><pre class="plaintext">Return the current dimensions of the cue grid.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers.clj#L33">view source</a></div></div><div class="public anchor" id="var-grid-height"><h3>grid-height</h3><div class="usage"><code>(grid-height grid)</code></div><div class="doc"><pre class="plaintext">Return the current height of the cue grid.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers.clj#L43">view source</a></div></div><div class="public anchor" id="var-grid-width"><h3>grid-width</h3><div class="usage"><code>(grid-width grid)</code></div><div class="doc"><pre class="plaintext">Return the current width of the cue grid.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers.clj#L38">view source</a></div></div><div class="public anchor" id="var-pool"><h3>pool</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Provides thread scheduling for all controller user interface updates.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers.clj#L10">view source</a></div></div><div class="public anchor" id="var-set-cue.21"><h3>set-cue!</h3><div class="usage"><code>(set-cue! grid x y cue)</code></div><div class="doc"><pre class="plaintext">Puts the supplied cue at the specified coordinates in the cue grid.
Replaces any cue which formerly existed at that location. If cue is
nil, delegates to clear-cue!</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/controllers.clj#L61">view source</a></div></div></div></body></html>