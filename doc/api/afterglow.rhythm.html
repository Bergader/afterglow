<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>afterglow.rhythm documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Afterglow 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>afterglow</span></div></div></li><li class="depth-2 branch"><a href="afterglow.channels.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channels</span></div></a></li><li class="depth-2"><a href="afterglow.controllers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>controllers</span></div></a></li><li class="depth-3"><a href="afterglow.controllers.ableton-push.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ableton-push</span></div></a></li><li class="depth-2 branch"><a href="afterglow.core.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="afterglow.dj-link.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dj-link</span></div></a></li><li class="depth-2"><a href="afterglow.effects.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>effects</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.channel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channel</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.dimmer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dimmer</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.fun.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fun</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.movement.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>movement</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.oscillators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oscillators</span></div></a></li><li class="depth-3"><a href="afterglow.effects.params.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>params</span></div></a></li><li class="depth-2 branch"><a href="afterglow.examples.html"><div class="inner"><span class="tree" style="top: -238px;"><span class="top" style="height: 247px;"></span><span class="bottom"></span></span><span>examples</span></div></a></li><li class="depth-2"><a href="afterglow.fixtures.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fixtures</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.blizzard.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>blizzard</span></div></a></li><li class="depth-3"><a href="afterglow.fixtures.chauvet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chauvet</span></div></a></li><li class="depth-2 branch"><a href="afterglow.midi.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>midi</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-client</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-messages.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-messages</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-service.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-service</span></div></a></li><li class="depth-2 branch current"><a href="afterglow.rhythm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rhythm</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rpc-messages.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rpc-messages</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rpc-service.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rpc-service</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show-context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-context</span></div></a></li><li class="depth-2 branch"><a href="afterglow.src-generator.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>src-generator</span></div></a></li><li class="depth-2 branch"><a href="afterglow.transform.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transform</span></div></a></li><li class="depth-2 branch"><a href="afterglow.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web</span></div></div></li><li class="depth-3 branch"><a href="afterglow.web.handler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.layout.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>layout</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></div></li><li class="depth-4 branch"><a href="afterglow.web.routes.home.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>home</span></div></a></li><li class="depth-4"><a href="afterglow.web.routes.visualizer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>visualizer</span></div></a></li><li class="depth-3"><a href="afterglow.web.session.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>session</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="afterglow.rhythm.html#var--.3EMetronome"><div class="inner"><span>-&gt;Metronome</span></div></a></li><li class="depth-1"><a href="afterglow.rhythm.html#var--.3EMetronomeSnapshot"><div class="inner"><span>-&gt;MetronomeSnapshot</span></div></a></li><li class="depth-1"><a href="afterglow.rhythm.html#var-beat-ms"><div class="inner"><span>beat-ms</span></div></a></li><li class="depth-1"><a href="afterglow.rhythm.html#var-IMetronome"><div class="inner"><span>IMetronome</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-adjust"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-adjust</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-bar"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-bar</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-bar-phase"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-bar-phase</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-bar-start"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-bar-start</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-beat"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-beat</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-beat-phase"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-beat-phase</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-bpb"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-bpb</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-bpm"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-bpm</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-bpp"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-bpp</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-ding"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-ding</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-marker"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-marker</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-phrase"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-phrase</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-phrase-phase"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-phrase-phase</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-phrase-start"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-phrase-start</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-snapshot"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-snapshot</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-start"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-start</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-metro-tick"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-tick</span></div></a></li><li class="depth-2"><a href="afterglow.rhythm.html#var-metro-tock"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metro-tock</span></div></a></li><li class="depth-1"><a href="afterglow.rhythm.html#var-ISnapshot"><div class="inner"><span>ISnapshot</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-snapshot-bar-phase"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>snapshot-bar-phase</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-snapshot-bar-within-phrase"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>snapshot-bar-within-phrase</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-snapshot-beat-phase"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>snapshot-beat-phase</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-snapshot-beat-within-bar"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>snapshot-beat-within-bar</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-snapshot-down-beat.3F"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>snapshot-down-beat?</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html#var-snapshot-phrase-phase"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>snapshot-phrase-phase</span></div></a></li><li class="depth-2"><a href="afterglow.rhythm.html#var-snapshot-phrase-start.3F"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>snapshot-phrase-start?</span></div></a></li><li class="depth-1"><a href="afterglow.rhythm.html#var-map-.3EMetronome"><div class="inner"><span>map-&gt;Metronome</span></div></a></li><li class="depth-1"><a href="afterglow.rhythm.html#var-map-.3EMetronomeSnapshot"><div class="inner"><span>map-&gt;MetronomeSnapshot</span></div></a></li><li class="depth-1"><a href="afterglow.rhythm.html#var-metronome"><div class="inner"><span>metronome</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">afterglow.rhythm</h2><div class="doc"><div class="markdown"><p>Functions to help work with musical time, evolved from the original version in <a href="https://github.com/overtone/overtone/blob/master/src/overtone/music/rhythm.clj">Overtone</a>.</p></div></div><div class="public anchor" id="var--.3EMetronome"><h3>-&gt;Metronome</h3><div class="usage"><code>(-&gt;Metronome start bpm bpb bpp)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class afterglow.rhythm.Metronome.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/rhythm.clj#L170">view source</a></div></div><div class="public anchor" id="var--.3EMetronomeSnapshot"><h3>-&gt;MetronomeSnapshot</h3><div class="usage"><code>(-&gt;MetronomeSnapshot start bpm bpb bpp instant beat bar phrase beat-phase bar-phase phrase-phase)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class afterglow.rhythm.MetronomeSnapshot.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/rhythm.clj#L145">view source</a></div></div><div class="public anchor" id="var-beat-ms"><h3>beat-ms</h3><div class="usage"><code>(beat-ms b bpm)</code></div><div class="doc"><pre class="plaintext">Convert &apos;b&apos; beats to milliseconds at the given &apos;bpm&apos;.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/rhythm.clj#L111">view source</a></div></div><div class="public anchor" id="var-IMetronome"><h3>IMetronome</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">A time-keeping tool for music-related systems.
</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-metro-adjust"><h3>metro-adjust</h3><div class="usage"><code>(metro-adjust metro ms)</code></div><div class="doc"><pre class="plaintext">Adds a number of milliseconds to the start time of the metronome.
</pre></div></div><div class="public anchor" id="var-metro-bar"><h3>metro-bar</h3><div class="usage"><code>(metro-bar metro)</code><code>(metro-bar metro bar)</code></div><div class="doc"><pre class="plaintext">Returns the next bar number or the timestamp (in milliseconds) of the
given bar</pre></div></div><div class="public anchor" id="var-metro-bar-phase"><h3>metro-bar-phase</h3><div class="usage"><code>(metro-bar-phase metro)</code><code>(metro-bar-phase metro phase)</code></div><div class="doc"><pre class="plaintext">Returns the distance traveled into the current bar [0.0, 1.0), or
adjusts the phase to match the one supplied.</pre></div></div><div class="public anchor" id="var-metro-bar-start"><h3>metro-bar-start</h3><div class="usage"><code>(metro-bar-start metro start-bar)</code></div><div class="doc"><pre class="plaintext">Restarts the metronome at start-bar, keeping the beat phase
unchanged in case it is being synced to an external source.</pre></div></div><div class="public anchor" id="var-metro-beat"><h3>metro-beat</h3><div class="usage"><code>(metro-beat metro)</code><code>(metro-beat metro beat)</code></div><div class="doc"><pre class="plaintext">Returns the next beat number or the timestamp (in milliseconds) of the
given beat.</pre></div></div><div class="public anchor" id="var-metro-beat-phase"><h3>metro-beat-phase</h3><div class="usage"><code>(metro-beat-phase metro)</code><code>(metro-beat-phase metro phase)</code></div><div class="doc"><pre class="plaintext">Returns the distance traveled into the current beat [0.0, 1.0), or
adjusts the phase to match the one supplied.</pre></div></div><div class="public anchor" id="var-metro-bpb"><h3>metro-bpb</h3><div class="usage"><code>(metro-bpb metro)</code><code>(metro-bpb metro new-bpb)</code></div><div class="doc"><pre class="plaintext">Get the current beats per bar or change it to new-bpb
</pre></div></div><div class="public anchor" id="var-metro-bpm"><h3>metro-bpm</h3><div class="usage"><code>(metro-bpm metro)</code><code>(metro-bpm metro new-bpm)</code></div><div class="doc"><pre class="plaintext">Get the current bpm or change the bpm to new-bpm.
</pre></div></div><div class="public anchor" id="var-metro-bpp"><h3>metro-bpp</h3><div class="usage"><code>(metro-bpp metro)</code><code>(metro-bpp metro new-bpp)</code></div><div class="doc"><pre class="plaintext">Get the current bars per phrase, or change it to new-bpp
</pre></div></div><div class="public anchor" id="var-metro-ding"><h3>metro-ding</h3><div class="usage"><code>(metro-ding metro)</code></div><div class="doc"><pre class="plaintext">Returns the duration of one phrase in milliseconds.
</pre></div></div><div class="public anchor" id="var-metro-marker"><h3>metro-marker</h3><div class="usage"><code>(metro-marker metro)</code></div><div class="doc"><pre class="plaintext">Returns the current time as phrase.bar.beat
</pre></div></div><div class="public anchor" id="var-metro-phrase"><h3>metro-phrase</h3><div class="usage"><code>(metro-phrase metro)</code><code>(metro-phrase metro phrase)</code></div><div class="doc"><pre class="plaintext">Returns the next phrase number or the timestamp (in milliseconds)
of the given phrase</pre></div></div><div class="public anchor" id="var-metro-phrase-phase"><h3>metro-phrase-phase</h3><div class="usage"><code>(metro-phrase-phase metro)</code><code>(metro-phrase-phase metro phase)</code></div><div class="doc"><pre class="plaintext">Returns the distance traveled into the current phrase [0.0, 1.0),
or adjusts the phase to match the one supplied.</pre></div></div><div class="public anchor" id="var-metro-phrase-start"><h3>metro-phrase-start</h3><div class="usage"><code>(metro-phrase-start metro start-phrase)</code></div><div class="doc"><pre class="plaintext">Restarts the metronome at start-phrase, keeping the beat phase
unchanged in case it is being synced to an external source.</pre></div></div><div class="public anchor" id="var-metro-snapshot"><h3>metro-snapshot</h3><div class="usage"><code>(metro-snapshot metro)</code></div><div class="doc"><pre class="plaintext">Take a snapshot of the current beat, bar, phrase, and phase state.
</pre></div></div><div class="public anchor" id="var-metro-start"><h3>metro-start</h3><div class="usage"><code>(metro-start metro)</code><code>(metro-start metro start-beat)</code></div><div class="doc"><pre class="plaintext">Returns the start time of the metronome. Also restarts the
metronome at start-beat if given.</pre></div></div><div class="public anchor" id="var-metro-tick"><h3>metro-tick</h3><div class="usage"><code>(metro-tick metro)</code></div><div class="doc"><pre class="plaintext">Returns the duration of one beat in milleseconds.
</pre></div></div><div class="public anchor" id="var-metro-tock"><h3>metro-tock</h3><div class="usage"><code>(metro-tock metro)</code></div><div class="doc"><pre class="plaintext">Returns the duration of one bar in milliseconds.
</pre></div></div></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/rhythm.clj#L14">view source</a></div></div><div class="public anchor" id="var-ISnapshot"><h3>ISnapshot</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">A snapshot to support a series of beat and phase calculations with
respect to a given instant in time. Used by Afterglow so that all
phase computations run when updating a frame of DMX data have a
consistent sense of when they are being run, to avoid, for example,
half the lights acting as if they are at the very end of a beat
while the rest are at the beginning of the next beat, due to a fluke
in timing as their evaluation occurs over time. Snapshots also
extend the notions of beat phase to enable oscillators with
frequencies that are fractions or multiples of a beat.</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-snapshot-bar-phase"><h3>snapshot-bar-phase</h3><div class="usage"><code>(snapshot-bar-phase snapshot)</code><code>(snapshot-bar-phase snapshot bar-ratio)</code></div><div class="doc"><pre class="plaintext">Determine the phase with respect to a multiple or fraction of bars.
Calling this with a beat-ratio of 1 (the default if not provided) is
equivalent to bar-phase, 1/2 oscillates twice as fast as 1, 3/4
oscillates 4 times every three bars... Phases range from [0-1).</pre></div></div><div class="public anchor" id="var-snapshot-bar-within-phrase"><h3>snapshot-bar-within-phrase</h3><div class="usage"><code>(snapshot-bar-within-phrase snapshot)</code></div><div class="doc"><pre class="plaintext">Returns the bar number relative to the start of the phrase:
Ranges from 1 to the bars-per-phrase of the metronome.</pre></div></div><div class="public anchor" id="var-snapshot-beat-phase"><h3>snapshot-beat-phase</h3><div class="usage"><code>(snapshot-beat-phase snapshot)</code><code>(snapshot-beat-phase snapshot beat-ratio)</code></div><div class="doc"><pre class="plaintext">Determine the phase with respect to a multiple or fraction of beats.
Calling this with a beat-ratio of 1 (the default if not provided)
is equivalent to beat-phase, a beat-ratio of bpb is equivalent to
bar-phase (unless the bar start has been moved away from the beat
start), 1/2 oscillates twice as fast as 1, 3/4 oscillates 4 times
every three beats... Phases range from [0-1).</pre></div></div><div class="public anchor" id="var-snapshot-beat-within-bar"><h3>snapshot-beat-within-bar</h3><div class="usage"><code>(snapshot-beat-within-bar snapshot)</code></div><div class="doc"><pre class="plaintext">Returns the beat number relative to the start of the bar: The down
beat is 1, and the range goes up to the beats-per-bar of the metronome.</pre></div></div><div class="public anchor" id="var-snapshot-down-beat.3F"><h3>snapshot-down-beat?</h3><div class="usage"><code>(snapshot-down-beat? snapshot)</code></div><div class="doc"><pre class="plaintext">True if the current beat is the first beat in the current bar.
</pre></div></div><div class="public anchor" id="var-snapshot-phrase-phase"><h3>snapshot-phrase-phase</h3><div class="usage"><code>(snapshot-phrase-phase snapshot)</code><code>(snapshot-phrase-phase snapshot phrase-ratio)</code></div><div class="doc"><pre class="plaintext">Determine the phase with respect to a multiple or fraction of
phrases. Calling this with a phrase-ratio of 1 (the default if
not provided) is equivalent to phrase-phase, 1/2 oscillates twice
as fast as 1, 3/4 oscillates 4 times every three bars... Phases
range from [0-1).</pre></div></div><div class="public anchor" id="var-snapshot-phrase-start.3F"><h3>snapshot-phrase-start?</h3><div class="usage"><code>(snapshot-phrase-start? snapshot)</code></div><div class="doc"><pre class="plaintext">True if the current beat is the first beat in the current
phrase.</pre></div></div></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/rhythm.clj#L62">view source</a></div></div><div class="public anchor" id="var-map-.3EMetronome"><h3>map-&gt;Metronome</h3><div class="usage"><code>(map-&gt;Metronome m__6287__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class afterglow.rhythm.Metronome, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/rhythm.clj#L170">view source</a></div></div><div class="public anchor" id="var-map-.3EMetronomeSnapshot"><h3>map-&gt;MetronomeSnapshot</h3><div class="usage"><code>(map-&gt;MetronomeSnapshot m__6287__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class afterglow.rhythm.MetronomeSnapshot, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/rhythm.clj#L145">view source</a></div></div><div class="public anchor" id="var-metronome"><h3>metronome</h3><div class="usage"><code>(metronome bpm &amp; {:keys [bpb bpp], :or {bpb 4, bpp 8}})</code></div><div class="doc"><pre class="plaintext">A metronome is a beat management tool. Tell it what BPM you want,
and it will compute beat, bar, and phrase timestamps accordingly.
See the IMetronome interface for full details.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/rhythm.clj#L343">view source</a></div></div></div></body></html>