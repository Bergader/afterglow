<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>afterglow.show documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Afterglow 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>afterglow</span></div></div></li><li class="depth-2 branch"><a href="afterglow.channels.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channels</span></div></a></li><li class="depth-2"><a href="afterglow.controllers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>controllers</span></div></a></li><li class="depth-3"><a href="afterglow.controllers.ableton-push.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ableton-push</span></div></a></li><li class="depth-2 branch"><a href="afterglow.core.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="afterglow.dj-link.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dj-link</span></div></a></li><li class="depth-2"><a href="afterglow.effects.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>effects</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.channel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channel</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.dimmer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dimmer</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.fun.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fun</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.movement.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>movement</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.oscillators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oscillators</span></div></a></li><li class="depth-3"><a href="afterglow.effects.params.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>params</span></div></a></li><li class="depth-2 branch"><a href="afterglow.examples.html"><div class="inner"><span class="tree" style="top: -238px;"><span class="top" style="height: 247px;"></span><span class="bottom"></span></span><span>examples</span></div></a></li><li class="depth-2"><a href="afterglow.fixtures.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fixtures</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.blizzard.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>blizzard</span></div></a></li><li class="depth-3"><a href="afterglow.fixtures.chauvet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chauvet</span></div></a></li><li class="depth-2 branch"><a href="afterglow.midi.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>midi</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-client</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-messages.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-messages</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-service.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-service</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rhythm</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rpc-messages.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rpc-messages</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rpc-service.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rpc-service</span></div></a></li><li class="depth-2 branch current"><a href="afterglow.show.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show-context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-context</span></div></a></li><li class="depth-2 branch"><a href="afterglow.src-generator.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>src-generator</span></div></a></li><li class="depth-2 branch"><a href="afterglow.transform.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transform</span></div></a></li><li class="depth-2 branch"><a href="afterglow.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web</span></div></div></li><li class="depth-3 branch"><a href="afterglow.web.handler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.layout.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>layout</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></div></li><li class="depth-4 branch"><a href="afterglow.web.routes.home.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>home</span></div></a></li><li class="depth-4"><a href="afterglow.web.routes.visualizer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>visualizer</span></div></a></li><li class="depth-3"><a href="afterglow.web.session.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>session</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="afterglow.show.html#var-add-effect.21"><div class="inner"><span>add-effect!</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-add-midi-control-metronome-align-bar-mapping"><div class="inner"><span>add-midi-control-metronome-align-bar-mapping</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-add-midi-control-metronome-align-phrase-mapping"><div class="inner"><span>add-midi-control-metronome-align-phrase-mapping</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-add-midi-control-metronome-reset-mapping"><div class="inner"><span>add-midi-control-metronome-reset-mapping</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-add-midi-control-to-master-mapping"><div class="inner"><span>add-midi-control-to-master-mapping</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-add-midi-control-to-var-mapping"><div class="inner"><span>add-midi-control-to-var-mapping</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-address-map"><div class="inner"><span>address-map</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-all-fixtures"><div class="inner"><span>all-fixtures</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-blackout-show"><div class="inner"><span>blackout-show</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-blackout-universe"><div class="inner"><span>blackout-universe</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-clear-effects.21"><div class="inner"><span>clear-effects!</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-default-refresh-interval"><div class="inner"><span>default-refresh-interval</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-end-effect.21"><div class="inner"><span>end-effect!</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-find-effect"><div class="inner"><span>find-effect</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-fixtures-named"><div class="inner"><span>fixtures-named</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-get-variable"><div class="inner"><span>get-variable</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-patch-fixture.21"><div class="inner"><span>patch-fixture!</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-patch-fixture-group.21"><div class="inner"><span>patch-fixture-group!</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-profile-show"><div class="inner"><span>profile-show</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-remove-fixture.21"><div class="inner"><span>remove-fixture!</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-remove-midi-control-metronome-mapping"><div class="inner"><span>remove-midi-control-metronome-mapping</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-remove-midi-control-to-master-mapping"><div class="inner"><span>remove-midi-control-to-master-mapping</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-remove-midi-control-to-var-mapping"><div class="inner"><span>remove-midi-control-to-var-mapping</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-resolution-handlers"><div class="inner"><span>resolution-handlers</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-set-variable.21"><div class="inner"><span>set-variable!</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-show"><div class="inner"><span>show</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-start.21"><div class="inner"><span>start!</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-stop.21"><div class="inner"><span>stop!</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-stop-all.21"><div class="inner"><span>stop-all!</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-sync-status"><div class="inner"><span>sync-status</span></div></a></li><li class="depth-1"><a href="afterglow.show.html#var-sync-to-external-clock"><div class="inner"><span>sync-to-external-clock</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">afterglow.show</h2><div class="doc"><div class="markdown"><p>Encapsulates a synchronized light show, executing a varying collection of effects with output to a number of DMX universes. Assumes control of the assigned universes, so only one show at a time should be assigned a given universe. Of course, you can stack as many effects as you&rsquo;d like in that show.</p><p>The effects are maintained in a priority queue, with higher-priority effects running after lower-priority ones, so they can adjust or simply replace the channel assignments established by earlier effects. Some may choose to implement traditional channel-oriented highest-takes-prority or latest-takes-priority semantics, others do more sophisticated color blending or position averageing. The default priority when adding an effect is zero, but you can assign it any integer, and it will be inserted into the queue after any existing effects with the same priority.</p><p>All effects are assigned a keyword when they are added, and adding a new effect with the same key as an existing effect will replace the former one.</p></div></div><div class="public anchor" id="var-add-effect.21"><h3>add-effect!</h3><div class="usage"><code>(add-effect! key f)</code><code>(add-effect! key f priority)</code></div><div class="doc"><div class="markdown"><p>Add an effect function or cue to the active set which are affecting DMX outputs for <a href="afterglow.show-context.html#var-*show*">show-context/*show*</a>. If no priority is specified, zero is used. This effect is added after all existing effects with equal or lower priority, and replaces any existing effect with the same key. Since the effects are executed in order, ones which come later will win when setting DMX values for the same channel if that channel uses latest-takes-priority mode; for channels using highest-takes priority, the order does not matter. Effect functions can also use more sophisticated strategies for adjusting the results of earlier effects, but the later one always gets to decide what to do.</p><p>Returns the unique id assigned to this particular effect activation, so that user interfaces can detect whether it is still active.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L463">view source</a></div></div><div class="public anchor" id="var-add-midi-control-metronome-align-bar-mapping"><h3>add-midi-control-metronome-align-bar-mapping</h3><div class="usage"><code>(add-midi-control-metronome-align-bar-mapping midi-device-name channel control-number &amp; {:keys [metronome], :or {metronome (:metronome *show*)}})</code></div><div class="doc"><div class="markdown"><p>Adjust a metronome so the closest beat is considered the first in the current measure, without moving the beat, when a control-change message with non-zero value is received from the specified device, channel, and controller number If keyword parameter <code>:metronome</code> is supplied, its value can either be a <a href="afterglow.rhythm.html#var-metronome">rhythm/metronome</a> object, or a keyword naming a show variable containing such an object. If not supplied, the main metronome attached to <a href="afterglow.show-context.html#var-*show*">*show*</a> is unmapped.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L375">view source</a></div></div><div class="public anchor" id="var-add-midi-control-metronome-align-phrase-mapping"><h3>add-midi-control-metronome-align-phrase-mapping</h3><div class="usage"><code>(add-midi-control-metronome-align-phrase-mapping midi-device-name channel control-number &amp; {:keys [metronome], :or {metronome (:metronome *show*)}})</code></div><div class="doc"><div class="markdown"><p>Adjust a metronome so the closest beat is considered the first in the current phrase, without moving the beat, when a control-change message with non-zero value is received from the specified device, channel, and controller number. If keyword parameter <code>:metronome</code> is supplied, its value can either be a <a href="afterglow.rhythm.html#var-metronome">rhythm/metronome</a> object, or a keyword naming a show variable containing such an object. If not supplied, the main metronome attached to <a href="afterglow.show-context.html#var-*show*">*show*</a> is mapped.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L389">view source</a></div></div><div class="public anchor" id="var-add-midi-control-metronome-reset-mapping"><h3>add-midi-control-metronome-reset-mapping</h3><div class="usage"><code>(add-midi-control-metronome-reset-mapping midi-device-name channel control-number &amp; {:keys [metronome], :or {metronome (:metronome *show*)}})</code></div><div class="doc"><div class="markdown"><p>Cause a metronome to be reset to beat 1, bar 1, phrase 1 when a control-change message with non-zero value is received from the specified device, channel, and controller number. If keyword parameter <code>:metronome</code> is supplied, its value can either be a <a href="afterglow.rhythm.html#var-metronome">rhythm/metronome</a> object, or a keyword naming a show variable containing such an object. If not supplied, the main metronome attached to <a href="afterglow.show-context.html#var-*show*">*show*</a> is mapped.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L343">view source</a></div></div><div class="public anchor" id="var-add-midi-control-to-master-mapping"><h3>add-midi-control-to-master-mapping</h3><div class="usage"><code>(add-midi-control-to-master-mapping midi-device-name channel control-number &amp; {:keys [master min max], :or {master (:grand-master *show*), min 0, max 100}})</code></div><div class="doc"><div class="markdown"><p>Cause the specified <a href="afterglow.effects.dimmer.html#var-master">dimmer/master</a> in <a href="afterglow.show-context.html#var-*show*">*show*</a> to be updated by any MIDI controller-change messages from the specified device sent on the specified channel and controller number. If <code>:min</code> and/or <code>:max</code> are specified, they will be used instead of the normal master range of 0 to 100. If given, both <code>:min</code> and <code>:max</code> must be valid percentages (in the range 0 to 100). If no <code>:master</code> is supplied, the show&rsquo;s grand master is mapped. If the value supplied with <code>:master</code> is a keyword, it is resolved as a show variable containing a dimmer master.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L295">view source</a></div></div><div class="public anchor" id="var-add-midi-control-to-var-mapping"><h3>add-midi-control-to-var-mapping</h3><div class="usage"><code>(add-midi-control-to-var-mapping midi-device-name channel control-number variable &amp; {:keys [min max], :or {min 0, max 127}})</code></div><div class="doc"><div class="markdown"><p>Cause the specified variable in <a href="afterglow.show-context.html#var-*show*">*show*</a> to be updated by any MIDI controller-change messages from the specified device sent on the specified channel and controller number. If <code>:min</code> and/or <code>:max</code> are specified, the normal MIDI range from 0 to 127 will be mapped to the supplied range instead.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L264">view source</a></div></div><div class="public anchor" id="var-address-map"><h3>address-map</h3><div class="usage"><code>(address-map)</code></div><div class="doc"><div class="markdown"><p>Returns a sorted map whose keys are the IDs of the universes managed by <a href="afterglow.show-context.html#var-*show*">*show*</a>, and whose values are address maps for the corresponding universe. The address maps have keys for every channel in use by the show in that universe, and the value is the key of the fixture using that address.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L545">view source</a></div></div><div class="public anchor" id="var-all-fixtures"><h3>all-fixtures</h3><div class="usage"><code>(all-fixtures)</code></div><div class="doc"><div class="markdown"><p>Returns all fixtures patched into <a href="afterglow.show-context.html#var-*show*">*show*</a>.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L657">view source</a></div></div><div class="public anchor" id="var-blackout-show"><h3>blackout-show</h3><div class="usage"><code>(blackout-show)</code></div><div class="doc"><div class="markdown"><p>Sends zero to every channel of every universe associated with <a href="afterglow.show-context.html#var-*show*">*show*</a>. Will quickly be overwritten if the show is running and there are any active effects, so this is mostly useful when a show has been suspended and you want to darken the lights it left on.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L698">view source</a></div></div><div class="public anchor" id="var-blackout-universe"><h3>blackout-universe</h3><div class="usage"><code>(blackout-universe universe)</code></div><div class="doc"><pre class="plaintext">Sends zero to every channel of the specified universe. Will be
quickly overwritten if there are any active shows transmitting to
that universe.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L689">view source</a></div></div><div class="public anchor" id="var-clear-effects.21"><h3>clear-effects!</h3><div class="usage"><code>(clear-effects!)</code></div><div class="doc"><div class="markdown"><p>Remove all effect functions currently active in <a href="afterglow.show-context.html#var-*show*">*show*</a>, leading to a blackout state in all controlled universes (if the show is running) until new effects are added.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L522">view source</a></div></div><div class="public anchor" id="var-default-refresh-interval"><h3>default-refresh-interval</h3><div class="usage"></div><div class="doc"><pre class="plaintext">How often should frames of DMX data be sent out; this
should be a supported frame rate for your interface. The default
here is 30 Hz, thirty frames per second.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L49">view source</a></div></div><div class="public anchor" id="var-end-effect.21"><h3>end-effect!</h3><div class="usage"><code>(end-effect! key)</code><code>(end-effect! key force)</code></div><div class="doc"><div class="markdown"><p>Shut down an effect function that is running in <a href="afterglow.show-context.html#var-*show*">*show*</a>. Unless a <code>true</code> value is passed for force, this is done by asking the effect to end (and waiting until it reports completion). Forcibly stopping it simply immediately removes it from the show.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L504">view source</a></div></div><div class="public anchor" id="var-find-effect"><h3>find-effect</h3><div class="usage"><code>(find-effect key)</code></div><div class="doc"><div class="markdown"><p>Looks up the specified effect keyword in list of active effect functions for <a href="afterglow.show-context.html#var-*show*">*show*</a>. Returns a map of the effect metadata, with the effect itself under the key <code>:effect</code>.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L492">view source</a></div></div><div class="public anchor" id="var-fixtures-named"><h3>fixtures-named</h3><div class="usage"><code>(fixtures-named n)</code></div><div class="doc"><div class="markdown"><p>Returns all fixtures patched into <a href="afterglow.show-context.html#var-*show*">*show*</a> whose key matches the specified name, with an optional number following it, as would be assigned to a fixture group by <a href="null">patch-fixtures!</a></p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L664">view source</a></div></div><div class="public anchor" id="var-get-variable"><h3>get-variable</h3><div class="usage"><code>(get-variable key)</code></div><div class="doc"><div class="markdown"><p>Get the value of a variable associated with <a href="null">*show</a>.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L257">view source</a></div></div><div class="public anchor" id="var-patch-fixture.21"><h3>patch-fixture!</h3><div class="usage"><code>(patch-fixture! key fixture universe start-address &amp; {:keys [x y z x-rotation y-rotation z-rotation], :or {x 0.0, y 0.0, z 0.0, x-rotation 0.0, y-rotation 0.0, z-rotation 0.0}})</code></div><div class="doc"><div class="markdown"><p>Patch a fixture to a universe in <a href="afterglow.show-context.html#var-*show*">*show*</a> at a starting DMX channel address, at a particular point in space, with a particular orientation. Coordinates and rotations are with respect to the <a href="https://github.com/brunchboy/afterglow/wiki/Show-Space">show frame of reference</a>, and are in meters and radians. You can use <a href="afterglow.transform.html#var-inches">transform/inches</a> and <a href="afterglow.transform.html#var-degrees">transform/degrees</a> to convert for you if desired.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L619">view source</a></div></div><div class="public anchor" id="var-patch-fixture-group.21"><h3>patch-fixture-group!</h3><h4 class="deprecated">deprecated</h4><div class="usage"><code>(patch-fixture-group! key fixture universe start-address count)</code><code>(patch-fixture-group! key fixture universe start-address count offset)</code></div><div class="doc"><div class="markdown"><p><em>Deprecated until it supports positioning each fixture.</em></p><p>Patch a fixture group to a universe in <a href="afterglow.show-context.html#var-*show*">*show*</a> at a starting DMX channel address. Names will be assigned by adding a hyphen and numeric suffix, starting with 1, to the key supplied. If an offset is supplied, it will be added to the starting address for each subsequent fixture; if not, the largest offset used by the fixture will be used to calculate a suitable offset.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L638">view source</a></div></div><div class="public anchor" id="var-profile-show"><h3>profile-show</h3><div class="usage"><code>(profile-show)</code><code>(profile-show iterations)</code></div><div class="doc"><div class="markdown"><p>Gather statistics about the performance of generating and sending a frame of DMX data to the universes <a href="afterglow.show-context.html#var-*show*">*show*</a>.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L678">view source</a></div></div><div class="public anchor" id="var-remove-fixture.21"><h3>remove-fixture!</h3><div class="usage"><code>(remove-fixture! key)</code></div><div class="doc"><div class="markdown"><p>Remove a fixture from thosed patched into <a href="afterglow.show-context.html#var-*show*">*show*</a>.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L557">view source</a></div></div><div class="public anchor" id="var-remove-midi-control-metronome-mapping"><h3>remove-midi-control-metronome-mapping</h3><div class="usage"><code>(remove-midi-control-metronome-mapping midi-device-name channel control-number &amp; {:keys [metronome], :or {metronome (:metronome *show*)}})</code></div><div class="doc"><div class="markdown"><p>Stop affecting a metronome when the specified MIDI controller-change messages are received. This undoes the effect of any of <a href="afterglow.show.html#var-add-midi-control-metronome-reset-mapping">add-midi-control-metronome-reset-mapping</a>, <a href="afterglow.show.html#var-add-midi-control-metronome-align-bar-mapping">add-midi-control-metronome-align-bar-mapping</a>, and <a href="afterglow.show.html#var-add-midi-control-metronome-align-phrase-mapping">add-midi-control-metronome-align-phrase-mapping</a>. If keyword parameter <code>:metronome</code> is supplied, its value can either be a <a href="afterglow.rhythm.html#var-metronome">rhythm/metronome</a> object, or a keyword naming a show variable containing such an object. If not supplied, the main metronome attached to <a href="afterglow.show-context.html#var-*show*">*show*</a> is mapped.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L356">view source</a></div></div><div class="public anchor" id="var-remove-midi-control-to-master-mapping"><h3>remove-midi-control-to-master-mapping</h3><div class="usage"><code>(remove-midi-control-to-master-mapping midi-device-name channel control-number &amp; {:keys [master], :or {master (:grand-master *show*)}})</code></div><div class="doc"><div class="markdown"><p>Cease updating the specified <a href="afterglow.effects.dimmer.html#var-master">dimmer/master</a> when the specified MIDI controller-change messages are received.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L319">view source</a></div></div><div class="public anchor" id="var-remove-midi-control-to-var-mapping"><h3>remove-midi-control-to-var-mapping</h3><div class="usage"><code>(remove-midi-control-to-var-mapping midi-device-name channel control-number variable)</code></div><div class="doc"><div class="markdown"><p>Cease updating the specified variable in <a href="afterglow.show-context.html#var-*show*">*show*</a> when the specified MIDI controller-change messages are received.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L286">view source</a></div></div><div class="public anchor" id="var-resolution-handlers"><h3>resolution-handlers</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The order in which assigners should be evaluated, and the functions
which resolve them into DMX channel updates. A list of tuples which
identify the assigner type key, and the function to invoke for such
assigners.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L60">view source</a></div></div><div class="public anchor" id="var-set-variable.21"><h3>set-variable!</h3><div class="usage"><code>(set-variable! key newval)</code></div><div class="doc"><div class="markdown"><p>Set a value for a variable associated with <a href="afterglow.show-context.html#var-*show*">*show*</a>.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L250">view source</a></div></div><div class="public anchor" id="var-show"><h3>show</h3><div class="usage"><code>(show universe)</code><code>(show metronome refresh-interval &amp; universes)</code></div><div class="doc"><div class="markdown"><p>Create a show coordinator to calculate and send DMX values to the specified universe(s), with a <a href="afterglow.rhythm.html#var-metronome">rhythm/metronome</a> to coordinate timing. Values are computed and sent at the specified refresh interval (in milliseconds), which defaults to a frame rate of thirty times per second.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L179">view source</a></div></div><div class="public anchor" id="var-start.21"><h3>start!</h3><div class="usage"><code>(start!)</code></div><div class="doc"><div class="markdown"><p>Starts (or restarts) a scheduled task to calculate and send DMX values to the universes controlled by <a href="afterglow.show-context.html#var-*show*">*show*</a> at the appropriate refresh rate.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L156">view source</a></div></div><div class="public anchor" id="var-stop.21"><h3>stop!</h3><div class="usage"><code>(stop!)</code></div><div class="doc"><div class="markdown"><p>Shuts down and removes the scheduled task which is sending DMX values for <a href="afterglow.show-context.html#var-*show*">*show*</a>, and cleans up the show&rsquo;s thread pool.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L140">view source</a></div></div><div class="public anchor" id="var-stop-all.21"><h3>stop-all!</h3><div class="usage"><code>(stop-all!)</code></div><div class="doc"><pre class="plaintext">Kills all scheduled tasks which shows may have created to output
their DMX values. You should still call stop! on each show you have
started in order to clean up that show&apos;s thread pool. But this can
quickly stop a runaway train if you don&apos;t know which show is to
blame.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L210">view source</a></div></div><div class="public anchor" id="var-sync-status"><h3>sync-status</h3><div class="usage"><code>(sync-status)</code></div><div class="doc"><div class="markdown"><p>Checks what kind of synchronization is in effect for <a href="afterglow.show-context.html#var-*show*">*show*</a>, and reports on how it seems to be working.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L239">view source</a></div></div><div class="public anchor" id="var-sync-to-external-clock"><h3>sync-to-external-clock</h3><div class="usage"><code>(sync-to-external-clock)</code><code>(sync-to-external-clock sync-fn)</code></div><div class="doc"><div class="markdown"><p>Stops or sarts synchronizing the show metronome attached to <a href="afterglow.show-context.html#var-*show*">*show*</a> with an external clock source. Pass it a function which takes the metronome and binds it to the source, returning a ClockSync object which will be stored with the show, so synchronization can later be stopped if desired. Calling this stops any synchronization that was formerly in effect, and calling it with no sync-fn argument simply leaves it stopped.</p><p>Functions useful to pass to this include <a href="afterglow.midi.html#var-sync-to-midi-clock">midi/sync-to-midi-clock</a> and <a href="afterglow.dj-link.html#var-sync-to-dj-link">dj-link/sync-to-dj-link</a>.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/show.clj#L219">view source</a></div></div></div></body></html>