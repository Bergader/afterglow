<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>afterglow.effects.dimmer documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Afterglow 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>afterglow</span></div></div></li><li class="depth-2 branch"><a href="afterglow.channels.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channels</span></div></a></li><li class="depth-2"><a href="afterglow.controllers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>controllers</span></div></a></li><li class="depth-3"><a href="afterglow.controllers.ableton-push.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ableton-push</span></div></a></li><li class="depth-2 branch"><a href="afterglow.core.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="afterglow.dj-link.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dj-link</span></div></a></li><li class="depth-2"><a href="afterglow.effects.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>effects</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.channel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channel</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch current"><a href="afterglow.effects.dimmer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dimmer</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.fun.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fun</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.movement.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>movement</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.oscillators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oscillators</span></div></a></li><li class="depth-3"><a href="afterglow.effects.params.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>params</span></div></a></li><li class="depth-2 branch"><a href="afterglow.examples.html"><div class="inner"><span class="tree" style="top: -238px;"><span class="top" style="height: 247px;"></span><span class="bottom"></span></span><span>examples</span></div></a></li><li class="depth-2"><a href="afterglow.fixtures.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fixtures</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.blizzard.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>blizzard</span></div></a></li><li class="depth-3"><a href="afterglow.fixtures.chauvet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chauvet</span></div></a></li><li class="depth-2 branch"><a href="afterglow.midi.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>midi</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-client</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-messages.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-messages</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-service.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-service</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rhythm</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rpc-messages.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rpc-messages</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rpc-service.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rpc-service</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show-context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-context</span></div></a></li><li class="depth-2 branch"><a href="afterglow.src-generator.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>src-generator</span></div></a></li><li class="depth-2 branch"><a href="afterglow.transform.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transform</span></div></a></li><li class="depth-2 branch"><a href="afterglow.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web</span></div></div></li><li class="depth-3 branch"><a href="afterglow.web.handler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.layout.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>layout</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></div></li><li class="depth-4 branch"><a href="afterglow.web.routes.home.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>home</span></div></a></li><li class="depth-4"><a href="afterglow.web.routes.visualizer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>visualizer</span></div></a></li><li class="depth-3"><a href="afterglow.web.session.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>session</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="afterglow.effects.dimmer.html#var--.3EMaster"><div class="inner"><span>-&gt;Master</span></div></a></li><li class="depth-1"><a href="afterglow.effects.dimmer.html#var-dimmer-channel.3F"><div class="inner"><span>dimmer-channel?</span></div></a></li><li class="depth-1"><a href="afterglow.effects.dimmer.html#var-dimmer-cue"><div class="inner"><span>dimmer-cue</span></div></a></li><li class="depth-1"><a href="afterglow.effects.dimmer.html#var-dimmer-oscillator"><div class="inner"><span>dimmer-oscillator</span></div></a></li><li class="depth-1"><a href="afterglow.effects.dimmer.html#var-IDimmerMaster"><div class="inner"><span>IDimmerMaster</span></div></a></li><li class="depth-2 branch"><a href="afterglow.effects.dimmer.html#var-master-get-level"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>master-get-level</span></div></a></li><li class="depth-2 branch"><a href="afterglow.effects.dimmer.html#var-master-scale"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>master-scale</span></div></a></li><li class="depth-2"><a href="afterglow.effects.dimmer.html#var-master-set-level"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>master-set-level</span></div></a></li><li class="depth-1"><a href="afterglow.effects.dimmer.html#var-map-.3EMaster"><div class="inner"><span>map-&gt;Master</span></div></a></li><li class="depth-1"><a href="afterglow.effects.dimmer.html#var-master"><div class="inner"><span>master</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">afterglow.effects.dimmer</h2><div class="doc"><div class="markdown"><p>Effects pipeline functions for working with dimmer channels for fixtures and heads. Dimmer cues are always tied to a <em>master</em> chain, which can scale back the maximum allowable value for that dimmer channel, as a percentage. Unless otherwise specified, the dimmer cue will be attached to the show grand master, but you can create other masters to adjust the brightness of groups of fixtures, perhaps because they are intrinsically brighter, or to adjust the balance of lighting for artistic reasons. Secondary masters can be chained to each other, and are always chained to the show grand master, so turning that down will dim the entire show; setting it to zero will black out the show.</p><p>This master scaling capability is so useful that you will almost always want a prominent fader on a MIDI controller tied to the show grand master, and possibly others to secondary masters. <a href="afterglow.show.html#var-add-midi-control-to-master-mapping">show/add-midi-control-to-master-mapping</a> makes that easy, especially for the grand master, and for submasters stored in show variables, which can be referred to by their keywords.</p><p>Some fixtures have damping functions that slow down their dimmer response, so you may not get the kind of coordination you would like from dimmer-oscillator cues. The recommended best practice is to use the dimmer channels as a maximum brightness level to allow tweaking the overall brightness of an effect, and using the lightness attribute of a color cue to create time-varying brightness effects.</p></div></div><div class="public anchor" id="var--.3EMaster"><h3>-&gt;Master</h3><div class="usage"><code>(-&gt;Master level parent)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class afterglow.effects.dimmer.Master.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/dimmer.clj#L81">view source</a></div></div><div class="public anchor" id="var-dimmer-channel.3F"><h3>dimmer-channel?</h3><div class="usage"><code>(dimmer-channel? c)</code></div><div class="doc"><pre class="plaintext">Returns true if the supplied channel is a dimmer.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/dimmer.clj#L46">view source</a></div></div><div class="public anchor" id="var-dimmer-cue"><h3>dimmer-cue</h3><div class="usage"><code>(dimmer-cue level fixtures &amp; {:keys [htp? master], :or {htp? true, master (:grand-master *show*)}})</code></div><div class="doc"><div class="markdown"><p>Returns an effect which assigns a dynamic value to all the supplied dimmers. If a <code>true</code> value is passed for <code>:htp?</code>, applies <em>highest-takes-precedence</em> (i.e. compares the value to the previous assignment for the channel, and lets the highest value remain).</p><p>All dimmer cues are associated with a <a href="afterglow.effects.dimmer.html#var-master">master</a> chain which can scale down the values to which they are set. If none is supplied when creating the dimmer cue, the show&rsquo;s grand master is used.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/dimmer.clj#L122">view source</a></div></div><div class="public anchor" id="var-dimmer-oscillator"><h3>dimmer-oscillator</h3><h4 class="deprecated">deprecated</h4><div class="usage"><code>(dimmer-oscillator osc fixtures &amp; {:keys [min max htp?], :or {min 0, max 255, htp? true}})</code></div><div class="doc"><pre class="plaintext">*Deprecated* Returns an effect function which drives the dimmer
channels of the supplied fixtures according to a supplied oscillator
function and the show metronome. If :htp? is true, use
highest-takes-precedence (i.e. compare to the previous assignment,
and let the higher value remain). Unless otherwise specified,
via :min and :max, ranges from 0 to 255. Returns a fractional value,
because that can be handled by channels with an associated fine
channel (commonly pan and tilt), and will be resolved in the process
of assigning the value to the DMX channels.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/dimmer.clj#L144">view source</a></div></div><div class="public anchor" id="var-IDimmerMaster"><h3>IDimmerMaster</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">A chainable limiter of dimmer cues.
</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-master-get-level"><h3>master-get-level</h3><div class="usage"><code>(master-get-level master)</code></div><div class="doc"><pre class="plaintext">Get the level of this master, as a percentage from 0 to 100. Any
value less than 100 will cause the dimmer cues attached to this
master to have their levels scaled back by that amount. If there
are any parent masters attached to this one, they may further
scale back the value in turn.</pre></div></div><div class="public anchor" id="var-master-scale"><h3>master-scale</h3><div class="usage"><code>(master-scale master value)</code></div><div class="doc"><pre class="plaintext">Scale down the value being sent to a dimmer according to this
master level, and any parent masters associated with it.</pre></div></div><div class="public anchor" id="var-master-set-level"><h3>master-set-level</h3><div class="usage"><code>(master-set-level master new-level)</code></div><div class="doc"><pre class="plaintext">Set the level of this master, as a percentage from 0 to 100. Any
value less than 100 will cause the dimmer cues attached to this
master to have their levels scaled back by that amount. If there
are any parent masters attached to this one, they may further
scale back the value in turn.</pre></div></div></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/dimmer.clj#L63">view source</a></div></div><div class="public anchor" id="var-map-.3EMaster"><h3>map-&gt;Master</h3><div class="usage"><code>(map-&gt;Master m__6287__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class afterglow.effects.dimmer.Master, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/dimmer.clj#L81">view source</a></div></div><div class="public anchor" id="var-master"><h3>master</h3><div class="usage"><code>(master show &amp; {:keys [level parent], :or {level 100, parent (:grand-master show)}})</code></div><div class="doc"><pre class="plaintext">Create a master for scaling dimmer cues. If you set its level to
less than 100 (interpreted as a percentage), all dimmer cues created
with this master will be scaled back appropriately. If you supply a
parent master, it will get a chance to scale them back as well. If
you don&apos;t, the show&apos;s grand master is used as the parent master.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/dimmer.clj#L93">view source</a></div></div></div></body></html>