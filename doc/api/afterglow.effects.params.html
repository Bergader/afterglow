<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>afterglow.effects.params documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Afterglow 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>afterglow</span></div></div></li><li class="depth-2 branch"><a href="afterglow.channels.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channels</span></div></a></li><li class="depth-2"><a href="afterglow.controllers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>controllers</span></div></a></li><li class="depth-3"><a href="afterglow.controllers.ableton-push.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ableton-push</span></div></a></li><li class="depth-2 branch"><a href="afterglow.core.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="afterglow.dj-link.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dj-link</span></div></a></li><li class="depth-2"><a href="afterglow.effects.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>effects</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.channel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channel</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.dimmer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dimmer</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.fun.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fun</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.movement.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>movement</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.oscillators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oscillators</span></div></a></li><li class="depth-3 current"><a href="afterglow.effects.params.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>params</span></div></a></li><li class="depth-2 branch"><a href="afterglow.examples.html"><div class="inner"><span class="tree" style="top: -238px;"><span class="top" style="height: 247px;"></span><span class="bottom"></span></span><span>examples</span></div></a></li><li class="depth-2"><a href="afterglow.fixtures.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fixtures</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.blizzard.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>blizzard</span></div></a></li><li class="depth-3"><a href="afterglow.fixtures.chauvet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chauvet</span></div></a></li><li class="depth-2 branch"><a href="afterglow.midi.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>midi</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-client.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-client</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-messages.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-messages</span></div></a></li><li class="depth-2 branch"><a href="afterglow.ola-service.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ola-service</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rhythm</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rpc-messages.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rpc-messages</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rpc-service.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rpc-service</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show-context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-context</span></div></a></li><li class="depth-2 branch"><a href="afterglow.src-generator.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>src-generator</span></div></a></li><li class="depth-2 branch"><a href="afterglow.transform.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transform</span></div></a></li><li class="depth-2 branch"><a href="afterglow.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web</span></div></div></li><li class="depth-3 branch"><a href="afterglow.web.handler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.layout.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>layout</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></div></li><li class="depth-4 branch"><a href="afterglow.web.routes.home.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>home</span></div></a></li><li class="depth-4"><a href="afterglow.web.routes.visualizer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>visualizer</span></div></a></li><li class="depth-3"><a href="afterglow.web.session.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>session</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="afterglow.effects.params.html#var-bind-keyword-param"><div class="inner"><span>bind-keyword-param</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-bind-keyword-param*"><div class="inner"><span>bind-keyword-param*</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-build-aim-param"><div class="inner"><span>build-aim-param</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-build-color-param"><div class="inner"><span>build-color-param</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-build-direction-param"><div class="inner"><span>build-direction-param</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-build-oscillated-param"><div class="inner"><span>build-oscillated-param</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-build-spatial-param"><div class="inner"><span>build-spatial-param</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-build-variable-param"><div class="inner"><span>build-variable-param</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-check-type"><div class="inner"><span>check-type</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-frame-dynamic-param.3F"><div class="inner"><span>frame-dynamic-param?</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-head-param.3F"><div class="inner"><span>head-param?</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-IHeadParam"><div class="inner"><span>IHeadParam</span></div></a></li><li class="depth-2 branch"><a href="afterglow.effects.params.html#var-evaluate-for-head"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>evaluate-for-head</span></div></a></li><li class="depth-2"><a href="afterglow.effects.params.html#var-resolve-non-frame-dynamic-elements-for-head"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>resolve-non-frame-dynamic-elements-for-head</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-interpret-color"><div class="inner"><span>interpret-color</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-IParam"><div class="inner"><span>IParam</span></div></a></li><li class="depth-2 branch"><a href="afterglow.effects.params.html#var-evaluate"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>evaluate</span></div></a></li><li class="depth-2 branch"><a href="afterglow.effects.params.html#var-frame-dynamic.3F"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>frame-dynamic?</span></div></a></li><li class="depth-2 branch"><a href="afterglow.effects.params.html#var-resolve-non-frame-dynamic-elements"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>resolve-non-frame-dynamic-elements</span></div></a></li><li class="depth-2"><a href="afterglow.effects.params.html#var-result-type"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>result-type</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-resolve-param"><div class="inner"><span>resolve-param</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-resolve-unless-frame-dynamic"><div class="inner"><span>resolve-unless-frame-dynamic</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-validate-optional-param-type"><div class="inner"><span>validate-optional-param-type</span></div></a></li><li class="depth-1"><a href="afterglow.effects.params.html#var-validate-param-type"><div class="inner"><span>validate-param-type</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">afterglow.effects.params</h2><div class="doc"><pre class="plaintext">A general mechanism for passing dynamic parameters to effect
functions and assigners allowing for dynamic values to be computed
either when an effect creates its assigners, or when the assigners
are resolving DMX values. Parameters can be calculated based on the
show metronome snapshot, show variables (which can be bound to OSC
and MIDI mappings), and other, not-yet-imagined things.</pre></div><div class="public anchor" id="var-bind-keyword-param"><h3>bind-keyword-param</h3><h4 class="type">macro</h4><div class="usage"><code>(bind-keyword-param value type-expected default)</code><code>(bind-keyword-param value type-expected default param-name)</code></div><div class="doc"><div class="markdown"><p>If an input to a dynamic parameter has been passed as a keyword, treat that as a reference to a variable in <a href="afterglow.show-context.html#var-*show*">*show*</a>. If that variable currently holds a dynamic parameter, try to bind it directly (throw an exception if the types do not match). Otherwise, build a new variable param to bind to future values of that show variable, and return that, logging a warning if the current value (if any) of the show variable is of an incompatible type for the parameter being bound. If the input parameter is not a keyword, simply validate its type.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L237">view source</a></div></div><div class="public anchor" id="var-bind-keyword-param*"><h3>bind-keyword-param*</h3><div class="usage"><code>(bind-keyword-param* param type-expected default param-name)</code></div><div class="doc"><div class="markdown"><p>Helper function that does the work of the <a href="afterglow.effects.params.html#var-bind-keyword-param">bind-keyword-param</a> macro, which passes it the name of the parameter being bound for nice error messages.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L225">view source</a></div></div><div class="public anchor" id="var-build-aim-param"><h3>build-aim-param</h3><div class="usage"><code>(build-aim-param &amp; {:keys [x y z frame-dynamic], :or {x 0, y 0, z 2, frame-dynamic :default}})</code></div><div class="doc"><div class="markdown"><p>Returns a dynamic aiming parameter. If no arguments are supplied, returns a static direction aiming towards a spot on the floor two meters towards the audience from the center of the light show. Keywords <code>:x</code>, <code>:y</code>, and <code>:z</code> can be used to specify a target point in the frame of reference of the light show.</p><p>All incoming parameter values may be literal or dynamic, and may be keywords, which will be dynamically bound to variables in <a href="afterglow.show-context.html#var-*show*">*show*</a>.</p><p>If you do not specify an explicit value for <code>:frame-dynamic</code>, this aim parameter will be frame dynamic if it has any incoming parameters which themselves are.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L498">view source</a></div></div><div class="public anchor" id="var-build-color-param"><h3>build-color-param</h3><div class="usage"><code>(build-color-param &amp; {:keys [color r g b h s l adjust-hue adjust-saturation adjust-lightness frame-dynamic], :or {color default-color, frame-dynamic :default}})</code></div><div class="doc"><div class="markdown"><p>Returns a dynamic color parameter. If supplied, <code>:color</code> is passed to <a href="afterglow.effects.params.html#var-interpret-color">interpret-color</a> to establish the base color to which other arguments are applied. The default base color is black, in the form of all zero values for <code>r</code>, <code>g</code>, <code>b</code>, <code>h</code>, <code>s</code>, and <code>l</code>. To this base it will then assign values passed in for individual color parameters.</p><p>All incoming parameter values may be literal or dynamic, and may be keywords, which will be dynamically bound to variables in <a href="afterglow.show-context.html#var-*show*">*show*</a>.</p><p>Not all parameter combinations make sense, of course: you will probably want to stick with either some of <code>:h</code>, <code>:s</code>, and <code>:l</code>, or some of <code>:r</code>, <code>:g</code>, and <code>:b</code>. If values from both are supplied, the <code>:r</code>, <code>:g</code>, and/or <code>:b</code> assignments will occur first, then then any <code>:h</code>, <code>:s</code>, and <code>:l</code> assignments will be applied to the resulting color.</p><p>Finally, if any adjustment values have been supplied for hue, saturation or lightness, they will be added to the corresponding values (rotating around the hue circle, clamped to the legal range for the others).</p><p>If you do not specify an explicit value for <code>:frame-dynamic</code>, this color parameter will be frame dynamic if it has any incoming parameters which themselves are.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L329">view source</a></div></div><div class="public anchor" id="var-build-direction-param"><h3>build-direction-param</h3><div class="usage"><code>(build-direction-param &amp; {:keys [x y z frame-dynamic], :or {x 0, y 0, z 1, frame-dynamic :default}})</code></div><div class="doc"><div class="markdown"><p>Returns a dynamic direction parameter. If no arguments are supplied, returns a static direction facing directly out towards the audience. Keywords <code>:x</code>, <code>:y</code>, and <code>:z</code> can be used to specify a vector in the frame of reference of the light show.</p><p>All incoming parameter values may be literal or dynamic, and may be keywords, which will be dynamically bound to variables in <a href="afterglow.show-context.html#var-*show*">*show*</a>.</p><p>If you do not specify an explicit value for <code>:frame-dynamic</code>, this direction parameter will be frame dynamic if it has any incoming parameters which themselves are.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L450">view source</a></div></div><div class="public anchor" id="var-build-oscillated-param"><h3>build-oscillated-param</h3><div class="usage"><code>(build-oscillated-param osc &amp; {:keys [min max metronome frame-dynamic], :or {min 0, max 255, frame-dynamic true}})</code></div><div class="doc"><div class="markdown"><p>Returns a number parameter that is driven by an <a href="https://github.com/brunchboy/afterglow/wiki/Oscillators">oscillator</a>. By default will be frame-dynamic, since it oscillates, but if you pass a <code>false</code> value for <code>:frame-dynamic</code>, the value will be fixed once it is assigned to an effect, acting like a random number generator with the oscillator&rsquo;s range. If you don&rsquo;t specify a <code>:metronome</code> to use, the main <a href="https://github.com/brunchboy/afterglow/wiki/Metronomes">metronome</a> in <a href="afterglow.show-context.html#var-*show*">*show*</a> will be used.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L254">view source</a></div></div><div class="public anchor" id="var-build-spatial-param"><h3>build-spatial-param</h3><div class="usage"><code>(build-spatial-param fixtures-or-heads f &amp; {:keys [start end frame-dynamic], :or {start 0, end 255, frame-dynamic :default}})</code></div><div class="doc"><div class="markdown"><p>Returns a dynamic number parameter related to the physical arrangement of the supplied fixtures or heads. First the heads of any fixtures passed in <code>fixtures-or-heads</code> are included. Then function <code>f</code> is called for all fixtures or heads, passing in the fixture or head. It must return a literal number or dynamic number parameter.</p><p>When it comes time to evaluate this parameter, any dynamic number parameters are evaluated, and the resulting numbers are scaled as a group (after evaluating <code>f</code> for every participating head or fixture) so they fall within the range [<code>:start</code>-<code>:end</code>], which defaults to [0-255].</p><p>Useful things that <code>f</code> can do include calculating the distance of the head from some point, either in 3D or along an axis, its angle from some line, and so on. These can allow the creation of lighting gradients across all or part of a show. Spatial parameters make excellent building blocks for <a href="#var-build-color-param">color</a>, <a href="#var-build-direction-param">direction</a> and <a href="#var-build-aim-param">aim</a> parameters, as shown in the <a href="https://github.com/brunchboy/afterglow/wiki/Effect-Examples#spatial-effects">wiki examples</a>.</p><p>If you do not specify an explicit value for <code>:frame-dynamic</code>, this spatial parameter will be frame dynamic if any values returned by <code>f</code> are dynamic parameters which themselves are frame dynamic.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L583">view source</a></div></div><div class="public anchor" id="var-build-variable-param"><h3>build-variable-param</h3><div class="usage"><code>(build-variable-param variable &amp; {:keys [frame-dynamic type default adjust-fn], :or {frame-dynamic true, type Number, default 0}})</code></div><div class="doc"><div class="markdown"><p>Create a dynamic parameter whose value is determined by the value held in a variable of <a href="afterglow.show-context.html#var-*show*">*show*</a> at the time evaluation is performed. Unless <code>:frame-dynamic</code> is passed a false value, this evaluation will happen every frame.</p><p>If no type-compatible value is found in the show variable, a default value is returned. That will be the number zero, unless otherwise specified by <code>:default</code>. The type expected (and returned) by this parameter will be numeric, unless a different value is passed for <code>:type</code>, (in which case a new type-compatible <code>:default</code> value must be specified).</p><p>If the named show variable already holds a dyamic parameter at the time this variable parameter is created, the binding is short-circuited to return that existing parameter rather than creating a new one, so the type must be compatible. If <code>:adjust-fn</code> is supplied, it will be called with the value of the variable and its return value will be used as the value of the dynamic parameter. It must return a compatible type or its result will be discarded.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L162">view source</a></div></div><div class="public anchor" id="var-check-type"><h3>check-type</h3><div class="usage"><code>(check-type value type-expected name)</code></div><div class="doc"><pre class="plaintext">Ensure that a parameter is of a particular type, or that it
satisfies IParam and, when evaluated, returns that type, throwing an
exception otherwise. Used by the validate-param-type macros to do
the actual type checking.</pre></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L57">view source</a></div></div><div class="public anchor" id="var-frame-dynamic-param.3F"><h3>frame-dynamic-param?</h3><div class="usage"><code>(frame-dynamic-param? arg)</code></div><div class="doc"><div class="markdown"><p>Checks whether the argument is an <a href="afterglow.effects.params.html#var-IParam">IParam</a> which is dynamic to the frame level.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L123">view source</a></div></div><div class="public anchor" id="var-head-param.3F"><h3>head-param?</h3><div class="usage"><code>(head-param? arg)</code></div><div class="doc"><div class="markdown"><p>Checks whether the argument is an <a href="afterglow.effects.params.html#var-IParam">IParam</a> which also satisfies <a href="afterglow.effects.params.html#var-IHeadParam">IHeadParam</a>.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L100">view source</a></div></div><div class="public anchor" id="var-IHeadParam"><h3>IHeadParam</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">An extension to IParam for parameters that are specific to a given
head (because they depend on things like its orientation or
location).</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-evaluate-for-head"><h3>evaluate-for-head</h3><div class="usage"><code>(evaluate-for-head this show snapshot head)</code></div><div class="doc"><pre class="plaintext">Determine the value of this numeric parameter at a given moment
of the show, as applied to the specific fixture head.</pre></div></div><div class="public anchor" id="var-resolve-non-frame-dynamic-elements-for-head"><h3>resolve-non-frame-dynamic-elements-for-head</h3><div class="usage"><code>(resolve-non-frame-dynamic-elements-for-head this show snapshot head)</code></div><div class="doc"><pre class="plaintext">Called when an effect is created using this parameter and there
is head information available. If the parameter is not
frame-dynamic, returns its final resolution; otherwise, returns a
version of itself where any non frame-dynamic input parameters
have been resolved.</pre></div></div></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L42">view source</a></div></div><div class="public anchor" id="var-interpret-color"><h3>interpret-color</h3><div class="usage"><code>(interpret-color color)</code></div><div class="doc"><div class="markdown"><p>Accept a color as either a <a href="https://github.com/jolby/colors">jolby/colors</a> object, an <a href="afterglow.effects.params.html#var-IParam">IParam</a> which will produce a color, a keyword, which will be bound to a show variable by the caller, or a string which is passed to the jolby/colors <code>create-color</code> function.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L303">view source</a></div></div><div class="public anchor" id="var-IParam"><h3>IParam</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">A dynamic parameter which gets evaluated during the run of a light show,
with access to the show and its metronome snapshot.</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-evaluate"><h3>evaluate</h3><div class="usage"><code>(evaluate this show snapshot)</code></div><div class="doc"><pre class="plaintext">Determine the value of this parameter at a given moment of the show.
</pre></div></div><div class="public anchor" id="var-frame-dynamic.3F"><h3>frame-dynamic?</h3><div class="usage"><code>(frame-dynamic? this)</code></div><div class="doc"><pre class="plaintext">If true, this parameter varies at every frame of the show, and
must be invoked by effect assigners for each frame of DMX data
generated. If false, the value can be determined at the time an
effect is created, and passed as a primitive to the assigners.</pre></div></div><div class="public anchor" id="var-resolve-non-frame-dynamic-elements"><h3>resolve-non-frame-dynamic-elements</h3><div class="usage"><code>(resolve-non-frame-dynamic-elements this show snapshot)</code></div><div class="doc"><pre class="plaintext">Called when an effect is created using this parameter. If it is
not frame-dynamic, returns its final resolution; otherwise,
returns a version of itself where any non frame-dynamic input
parameters have been resolved.</pre></div></div><div class="public anchor" id="var-result-type"><h3>result-type</h3><div class="usage"><code>(result-type this)</code></div><div class="doc"><pre class="plaintext">The type of value that will be returned when this parameter is resolved.
</pre></div></div></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L24">view source</a></div></div><div class="public anchor" id="var-resolve-param"><h3>resolve-param</h3><div class="usage"><code>(resolve-param arg show snapshot)</code><code>(resolve-param arg show snapshot head)</code></div><div class="doc"><div class="markdown"><p>Takes an argument which may be a raw value, or may be an <a href="afterglow.effects.params.html#var-IParam">IParam</a>. If it is the latter, evaluates it and returns the resulting value. Otherwise just returns the value that was passed in. If <code>head</code> is supplied, and the parameter can use it at resolution time, then pass it along.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L107">view source</a></div></div><div class="public anchor" id="var-resolve-unless-frame-dynamic"><h3>resolve-unless-frame-dynamic</h3><div class="usage"><code>(resolve-unless-frame-dynamic arg show snapshot)</code><code>(resolve-unless-frame-dynamic arg show snapshot head)</code></div><div class="doc"><div class="markdown"><p>If the first argument is an <a href="afterglow.effects.params.html#var-IParam">IParam</a> which is not dynamic all the way to the frame level, return the result of resolving it now. If it is dynamic to the frame level, ask it to resolve any non frame-dynamic elements. Otherwise return it unchanged. If <code>head</code> is supplied, and the parameter can use it at resolution time, then pass it along.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L143">view source</a></div></div><div class="public anchor" id="var-validate-optional-param-type"><h3>validate-optional-param-type</h3><h4 class="type">macro</h4><div class="usage"><code>(validate-optional-param-type value type-expected)</code><code>(validate-optional-param-type value type-expected name)</code></div><div class="doc"><div class="markdown"><p>Ensure that a parameter, if not <code>nil</code>, satisfies a predicate, or that it satisfies <a href="afterglow.effects.params.html#var-IParam">IParam</a> and, when evaluated, returns a type that passes that predicate, throwing an exception otherwise.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L89">view source</a></div></div><div class="public anchor" id="var-validate-param-type"><h3>validate-param-type</h3><h4 class="type">macro</h4><div class="usage"><code>(validate-param-type value type-expected)</code><code>(validate-param-type value type-expected name)</code></div><div class="doc"><div class="markdown"><p>Ensure that a parameter satisfies a predicate, or that it satisfies <a href="afterglow.effects.params.html#var-IParam">IParam</a> and, when evaluated, returns a type that passes that predicate, throwing an exception otherwise.</p></div></div><div class="src-link"><a href="http://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/params.clj#L78">view source</a></div></div></div></body></html>