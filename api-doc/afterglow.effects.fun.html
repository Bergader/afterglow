<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>afterglow.effects.fun documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Afterglow</span> <span class="project-version">0.2.1-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>afterglow</span></div></div></li><li class="depth-2 branch"><a href="afterglow.beyond.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>beyond</span></div></a></li><li class="depth-2 branch"><a href="afterglow.channels.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channels</span></div></a></li><li class="depth-2"><a href="afterglow.controllers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>controllers</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.ableton-push.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ableton-push</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.ableton-push-2.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ableton-push-2</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.launchpad-mini.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>launchpad-mini</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.launchpad-mk2.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>launchpad-mk2</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.launchpad-pro.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>launchpad-pro</span></div></a></li><li class="depth-3"><a href="afterglow.controllers.tempo.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tempo</span></div></a></li><li class="depth-2 branch"><a href="afterglow.core.html"><div class="inner"><span class="tree" style="top: -238px;"><span class="top" style="height: 247px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="afterglow.coremidi4j.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>coremidi4j</span></div></a></li><li class="depth-2 branch"><a href="afterglow.dj-link.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dj-link</span></div></a></li><li class="depth-2"><a href="afterglow.effects.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>effects</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.channel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channel</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.cues.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cues</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.dimmer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dimmer</span></div></a></li><li class="depth-3 branch current"><a href="afterglow.effects.fun.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fun</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.movement.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>movement</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.oscillators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oscillators</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.params.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>params</span></div></a></li><li class="depth-3"><a href="afterglow.effects.show-variable.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-variable</span></div></a></li><li class="depth-2 branch"><a href="afterglow.examples.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>examples</span></div></a></li><li class="depth-2"><a href="afterglow.fixtures.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fixtures</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.american-dj.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>american-dj</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.blizzard.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>blizzard</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.chauvet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chauvet</span></div></a></li><li class="depth-3"><a href="afterglow.fixtures.qxf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>qxf</span></div></a></li><li class="depth-2 branch"><a href="afterglow.init.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>init</span></div></a></li><li class="depth-2 branch"><a href="afterglow.midi.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>midi</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rhythm</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show-context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-context</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>shows</span></div></div></li><li class="depth-3"><a href="afterglow.shows.sallie.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sallie</span></div></a></li><li class="depth-2 branch"><a href="afterglow.transform.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>transform</span></div></a></li><li class="depth-2 branch"><a href="afterglow.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2 branch"><a href="afterglow.version.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>version</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web</span></div></div></li><li class="depth-3 branch"><a href="afterglow.web.handler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.layout.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>layout</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></div></li><li class="depth-4 branch"><a href="afterglow.web.routes.home.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>home</span></div></a></li><li class="depth-4 branch"><a href="afterglow.web.routes.show-control.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-control</span></div></a></li><li class="depth-4 branch"><a href="afterglow.web.routes.visualizer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>visualizer</span></div></a></li><li class="depth-4"><a href="afterglow.web.routes.web-repl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web-repl</span></div></a></li><li class="depth-3"><a href="afterglow.web.session.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>session</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="afterglow.effects.fun.html#var-adjust-strobe"><div class="inner"><span>adjust-strobe</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-aim-fan"><div class="inner"><span>aim-fan</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-bloom"><div class="inner"><span>bloom</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-color-cycle-chase"><div class="inner"><span>color-cycle-chase</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-confetti"><div class="inner"><span>confetti</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-default-color-cycle"><div class="inner"><span>default-color-cycle</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-default-down-beat-color"><div class="inner"><span>default-down-beat-color</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-default-other-beat-color"><div class="inner"><span>default-other-beat-color</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-default-pinstripe-colors"><div class="inner"><span>default-pinstripe-colors</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-default-sparkle-color"><div class="inner"><span>default-sparkle-color</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-dimmer-sparkle"><div class="inner"><span>dimmer-sparkle</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-iris-out-color-cycle-chase"><div class="inner"><span>iris-out-color-cycle-chase</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-metronome-effect"><div class="inner"><span>metronome-effect</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-pinstripes"><div class="inner"><span>pinstripes</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-random-beat-number-param"><div class="inner"><span>random-beat-number-param</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-sparkle"><div class="inner"><span>sparkle</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-strobe"><div class="inner"><span>strobe</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-strobe-2"><div class="inner"><span>strobe-2</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-transition-during-down-beat"><div class="inner"><span>transition-during-down-beat</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-twirl"><div class="inner"><span>twirl</span></div></a></li><li class="depth-1"><a href="afterglow.effects.fun.html#var-wipe-right-color-cycle-chase"><div class="inner"><span>wipe-right-color-cycle-chase</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">afterglow.effects.fun</h1><div class="doc"><div class="markdown"><p>A collection of neat effects that are both useful in shows, and examples of how to create such things.</p></div></div><div class="public anchor" id="var-adjust-strobe"><h3>adjust-strobe</h3><div class="usage"><code>(adjust-strobe)</code></div><div class="doc"><div class="markdown"><p>An auxiliary effect which creates no assigners to directly affect lights, but adjusts show variables used by the <a href="afterglow.effects.fun.html#var-strobe">strobe</a> effect. It is designed to be run as a parallel cue to offer the user controls for adjusting the hue and saturation of any active strobes.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L295">view source</a></div></div><div class="public anchor" id="var-aim-fan"><h3>aim-fan</h3><div class="usage"><code>(aim-fan fixtures &amp; {:keys [x y z x-scale y-scale effect-name], :or {x 0.0, y 0.0, z 5.0, x-scale 1.0, y-scale 1.0, effect-name "Aim Fan"}})</code></div><div class="doc"><div class="markdown"><p>Creates an aim effect which aims the lights outward around a reference point specified by <code>:x</code>, <code>:y</code>, and <code>:z</code>, which defaults to <code>(0, 0, 5)</code>, by first aiming the lights at the reference point, and then adding on the distance within the x-y plane from the fixture to that point, multiplied by <code>:x-scale</code> and <code>:y-scale</code>, which each default to <code>1</code>. A scale of <code>0</code> would aim the lights straight forward. Positive values fan them out, while negative values overshoot the reference point in the other direction, fanning them in. All parameters other than <code>fixtures</code> can be dynamic or keywords, which will be bound to show variables.</p>
<p>You can override the default effect name of Aim Fan by passing in another with <code>:effect-name</code>.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L641">view source</a></div></div><div class="public anchor" id="var-bloom"><h3>bloom</h3><div class="usage"><code>(bloom fixtures &amp; {:keys [color fraction measure], :or {:color (colors/create-color :white), :fraction 0, :measure (transform/build-distance-measure 0 0 0)}})</code></div><div class="doc"><div class="markdown"><p>An effect which causes a color (which defaults to white) to spread from a point across a set of lights, controlled by a fraction from 0 to 1. The spread is defined by a distance measure (as created by <a href="afterglow.transform.html#var-build-distance-measure">build-distance-measure</a>), which defaults to a sphere starting at the origin. For efficiency, the measure cannot be frame dynamic, and is evaluated when the effect is created.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L721">view source</a></div></div><div class="public anchor" id="var-color-cycle-chase"><h3>color-cycle-chase</h3><div class="usage"><code>(color-cycle-chase fixtures measure &amp; {:keys [color-cycle color-index-function transition-phase-function effect-name], :or {color-cycle default-color-cycle, color-index-function rhythm/snapshot-bar-within-phrase, transition-phase-function transition-during-down-beat, effect-name "Phrase Color Cycle"}})</code></div><div class="doc"><div class="markdown"><p>Returns an effect which moves through a color cycle over a period of time (by default changing each bar of a phrase), performing a transition as a new color is introduced, using the specified distance measure to determine when each light starts to participate. By default the transition occurs over the down beat (first beat) of the bar. See below for how these defaults can be changed.</p>
<p>The distance measure supplied as the second argument is a function which accepts a fixture or head and returns a nonnegative value which controls the point during the transition when that head will change from the old color to the new color. A fixture returning a value of 0 will change as soon as transition has started, and the fixture(s) that return the largest value will change when the transition ends. A value halfway between zero and the largest value would mean the color of that fixture or head would change exactly at the midpoint of the transition. Many interesting looking transtitions can be created using distance measures constructed by calling <a href="afterglow.transform.html#var-build-distance-measure">afterglow.transform/build-distance-measure</a>, as is done by <a href="afterglow.effects.fun.html#var-iris-out-color-cycle-chase">iris-out-color-cycle-chase</a> and several examples which follow it. There are lots of other kinds of functions which can created, though; at the opposite extreme you can do completely arbitrary things like assigning each head a random “distance” when the effect is created.</p>
<p>The sequence of colors which are cycled through can be changed by passing in a vector with <code>:color-cycle</code>. Each value in the vector can either be a color object, or a dynamic parameter which resolves to a color object when the effect is running. As ususal, you can bind to show variables containing a color by passing the variable names as keywords within the vector.</p>
<p>When the effect is being rendered, the current color index within <code>:color-cycle</code> is determined by calling a function with the snapshot obtained from the show metronome at the start of the rendering frame. The default function, <a href="afterglow.rhythm.html#var-snapshot-bar-within-phrase">afterglow.rhythm/snapshot-bar-within-phrase</a>, will assign a different color for each bar of a phrase. (If there are not enough colors in <code>:color-cycle</code> the cycle is repeated as necessary.) You can pass another index function with <code>:color-index-function</code> to change how and when the cycle is traversed.</p>
<p>The function supplied with <code>:transition-phase-function</code> determines precisely when the transition takes place and how quickly it occurs. It is also called with the show metronome snapshot, and if the value it returns is less than zero, the transition is considered not to have started yet, and no fixtures will be assigned the current color. Values between zero and one mean the transition is in progress, and lights whose distance measure divided by the largest distance measure is less than or equal to the current phase will change color. Once the transition phase reaches one (or greater), the transition is complete, and all lights will be assigned the color associated with the current cycle index. The default transition phase function, <a href="afterglow.effects.fun.html#var-transition-during-down-beat">transition-during-down-beat</a>, causes the transition to be spread over the down beat of each bar. Passing <a href="afterglow.rhythm.html#var-snapshot-bar-phase">rhythm/snapshot-bar-phase</a> instead would spread the transition over the entire bar, so that transitions would be feeding right into each other. Other possibilities are limited only by your imagination. The transition can run backwards; it can pause or reverse directions multiple times; it does not even necessarily have to happen only once during each index value. This means that if you want to reverse the direction of a transition which lasts for the entire duration of a cycle index value, you can do it by reversing either the distance measure or the phase function, whichever is easier. (If the transition is shorter than the time over which the <code>:color-index-function</code> changes, you will want to reverse the distance measure rather than the phase function, because otherwise the order in which the colors appear will be strange.)</p>
<p>To give your running effect a meaningful name within user interfaces, pass a short and descriptive value with <code>:effect-name</code>.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L381">view source</a></div></div><div class="public anchor" id="var-confetti"><h3>confetti</h3><div class="usage"><code>(confetti fixtures &amp; {:keys [step min-added max-added min-duration max-duration min-saturation aim? min-x max-x min-y max-y min-z max-z], :or {min-x -5.0, aim? false, step (params/build-step-param), max-z 5.0, min-saturation 100.0, min-added 1, min-z 0.5, max-added 4, max-x 5.0, min-y 0.0, min-duration 2, max-duration 4, max-y 0.0}})</code></div><div class="doc"><div class="markdown"><p>A random color effect, which assigns a new random color to a random selection of the supplied fixture heads each time a step parameter changes value. That color lasts a random number of steps.</p>
<p>The step parameter defaults to one which changes each beat, buy you can supply your own with the optional keyword argument <code>:step</code>. Its value will be rounded to the nearest integer when checking for changes, so fades are ignored.</p>
<p>The minimum and maximum number of heads to assign colors on each step default to 1 and 4, and can be adjusted with <code>:min-added</code> and <code>:max-added</code>. The minimum and maximum number of steps that each assignment will last default to 4 and 8, and can be adjusted with <code>:min-duration</code> and <code>:max-duration</code>.</p>
<p>By default, colors chosen are always fully saturated, but you can pass a percentage with <code>:min-saturation</code> and a random saturation value between that and 100% will be chosen for each head.</p>
<p>When generating a new set of confetti flakes, if more than one head is chosen, they will all be assigned a color of the same hue, but may each get individual random saturations. The duration of the flake on each head will also be individually randomly assigned.</p>
<p>In addition to assigning colors, flakes can also aim the lights at a particular point. To activate this, pass a <code>true</code> value with <code>:aim?</code>. By default the aiming points will be randomly generated to be on the floor from half a meter to five meters in front of the rig, and with <em>x</em> values ranging from -5 to 5 meters, but you can adjust the space from which they are chosen by passing values with <code>:min-x</code>, <code>:max-x</code>, <code>:min-y</code>, <code>:max-y</code>, <code>:min-z</code>, and <code>max-z</code>.</p>
<p>All parameters after <code>fixtures</code> may be dynamic, including show variables with the standard shorthand of passing the variable name as a keyword. Since <code>step</code>, <code>:min-added</code>, <code>:max-added</code>, <code>aim?</code>, and the boundaries of the aiming space are not associated with a specific head, they cannot be spatial parameters. The other parameters can be, however, so saturations and durations can vary over the ligthing rig.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L813">view source</a></div></div><div class="public anchor" id="var-default-color-cycle"><h3>default-color-cycle</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The default list of colors to cycle through for the <a href="afterglow.effects.fun.html#var-color-cycle-chase">color-cycle-chase</a>.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L355">view source</a></div></div><div class="public anchor" id="var-default-down-beat-color"><h3>default-down-beat-color</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The default color for <a href="afterglow.effects.fun.html#var-metronome-effect">metronome-effect</a> to flash on the down beats.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L27">view source</a></div></div><div class="public anchor" id="var-default-other-beat-color"><h3>default-other-beat-color</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The default color for <a href="afterglow.effects.fun.html#var-metronome-effect">metronome-effect</a> to flash on beats that are not down beats.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L32">view source</a></div></div><div class="public anchor" id="var-default-pinstripe-colors"><h3>default-pinstripe-colors</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The set of colors that will be used by a pinstripe effect if no <code>:colors</code> parameter is supplied.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L921">view source</a></div></div><div class="public anchor" id="var-default-sparkle-color"><h3>default-sparkle-color</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The default color for the <a href="afterglow.effects.fun.html#var-sparkle">sparkle</a> effect.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L93">view source</a></div></div><div class="public anchor" id="var-dimmer-sparkle"><h3>dimmer-sparkle</h3><div class="usage"><code>(dimmer-sparkle fixtures &amp; {:keys [chance fade-time master include-rgb-fixtures?], :or {chance 0.001, fade-time 500, master (:grand-master *show*), include-rgb-fixtures? false}})</code></div><div class="doc"><div class="markdown"><p>A variation of the <a href="afterglow.effects.fun.html#var-sparkle">sparkle</a> effect which uses dimmer channels, instead of RGB color mixing, for fixtures that lack such capability. Note that some fixtures may have dimmers that do not respond quickly enough for this to work well; you will have to try it and see.</p>
<p>As each frame of DMX values generated, each participating fixture head has a chance of being assigned a sparkle (this chance is controlled by the optional keyword parameter <code>:chance</code>). Once a sparkle has been created, it will fade out over the number of milliseconds specified by the optional keyword parameter <code>:fade-time</code>.</p>
<p>As with other <a href="https://github.com/brunchboy/afterglow/blob/master/doc/effects.adoc#dimmer-effects">dimmer effects</a>, the maximum level to which the dimmer can be set is limited by a dimmer master chain. You can pass one in explicitly with <code>:master</code>. If you do not, the show’s grand master is used.</p>
<p>By default this effect ignores fixtures that can perform RGB color mixing, because you are better off using the regular <a href="afterglow.effects.fun.html#var-sparkle">sparkle</a> effect with them. But if for some reason you want it to affect their dimmers as well, you can pass a <code>true</code> value with <code>:include-rgb-fixtures?</code>.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L172">view source</a></div></div><div class="public anchor" id="var-iris-out-color-cycle-chase"><h3>iris-out-color-cycle-chase</h3><div class="usage"><code>(iris-out-color-cycle-chase fixtures &amp; {:keys [center color-cycle color-index-function transition-phase-function effect-name], :or {color-cycle default-color-cycle, color-index-function rhythm/snapshot-bar-within-phrase, transition-phase-function transition-during-down-beat, effect-name "Iris Out"}})</code></div><div class="doc"><div class="markdown"><p>Returns an effect which changes the color of a group of fixture heads on the down beat of each bar of a phrase, expanding the color from the center of the show x-y plane outwards during the down beat.</p>
<p>Unless otherwise specified by passing an explicit pair of x and y coordinates with <code>:center</code> (e.g. <code>:center [0.0 0.0]</code>), the starting point of the transition will be the x-y center of the bounding box of the fixtures participating in it (the smallest box containing all of their heads).</p>
<p>You can change the colors used, and when transitions occur, by overriding the default values associated with the optional keyword arguments <code>:color-cycle</code>, <code>:color-index-function</code>, and <code>:transition-phase-function</code>. For details about how these are interpreted, see <a href="afterglow.effects.fun.html#var-color-cycle-chase">color-cycle-chase</a> which is used to implement this chase.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L499">view source</a></div></div><div class="public anchor" id="var-metronome-effect"><h3>metronome-effect</h3><div class="usage"><code>(metronome-effect fixtures &amp; {:keys [down-beat-color other-beat-color metronome], :or {down-beat-color default-down-beat-color, other-beat-color default-other-beat-color, metronome (:metronome *show*)}})</code></div><div class="doc"><div class="markdown"><p>Returns an effect which flashes the supplied fixtures to the beats of the show metronome, emphasizing the down beat, which is a great way to test and understand metronome synchronization. The color of the flashes can be controlled by the <code>:down-beat-color</code> and <code>:other-beat-color</code> optional keyword arguments (defaulting to red with lightness 70, and yellow with lightness 20, respectively).</p>
<p>This is no longer as useful as it used to be before there were metronome adjustment interfaces in the Ableton Push and then web interfaces, but is still an example of how to write a metronome driven effect, and can be synchronized to metronomes other than the default show metronome by passing them in with optional keyword argument <code>:metronome</code>.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L37">view source</a></div></div><div class="public anchor" id="var-pinstripes"><h3>pinstripes</h3><div class="usage"><code>(pinstripes fixtures &amp; {:keys [step tolerance colors], :or {step (params/build-step-param), tolerance 0, colors default-pinstripe-colors}})</code></div><div class="doc"><div class="markdown"><p>A color effect which divides the lights into alternating columns by their <em>x</em> positions (with configurable tolerance, defaulting to requiring exact equality), and assigns a color to each column. The colors rotate according to a step parameter.</p>
<p>The step parameter defaults to one which changes abruptly on each beat, but you can supply your own with the optional keyword argument <code>:step</code>. Fades between colors can be achieved by passing a step parameter that fades.</p>
<p>The tolerance used when grouping the heads into stripes is controlled by the optional parameter <code>:tolerance</code>, which defaults to zero, meaning the heads must have the exact same <em>x</em> value to get assigned to the same stripe. The assignment of heads into stripes is done when the effect is created, so if the tolerance changes after that, it will have no effect.</p>
<p>The colors themselves are passed as a sequence with <code>:colors</code> and default to red and white. The list of colors you supply can be of any length. Although the colors within the list themselves can be dynamic parameters, the conntent of the list is evaluated when the effect is created, so the number of colors and the color parameters themselves are fixed at that time.</p>
<p>The <code>:step</code>, <code>:tolerance</code>, and <code>:colors</code> parameters may be dynamic, (and may be bound to show variables using the standard shorthand of passing the variable name as a keyword). Since <code>:step</code> and <code>:tolerance</code> are not associated with a specific head, they cannot be a spatial parameters. The colors can be, however, so for example saturations can vary over the rig.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L942">view source</a></div></div><div class="public anchor" id="var-random-beat-number-param"><h3>random-beat-number-param</h3><div class="usage"><code>(random-beat-number-param &amp; {:keys [min max min-change], :or {min 0, max 255, min-change 0}})</code></div><div class="doc"><div class="markdown"><p>Returns a dynamic number parameter which gets a new random value on each beat.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L559">view source</a></div></div><div class="public anchor" id="var-sparkle"><h3>sparkle</h3><div class="usage"><code>(sparkle fixtures &amp; {:keys [color chance fade-time], :or {color default-sparkle-color, chance 0.001, fade-time 500}})</code></div><div class="doc"><div class="markdown"><p>A random sparkling effect like a particle generator over the supplied fixture heads.</p>
<p>As each frame of DMX values generated, each participating fixture head has a chance of being assigned a sparkle (this chance is controlled by the optional keyword parameter <code>:chance</code>). Once a sparkle has been created, it will fade out over the number of milliseconds specified by the optional keyword parameter <code>:fade-time</code>. The initial color of each sparkle can be changed with the optional keyword parameter <code>:color</code>. All parameters may be dynamic, including show variables with the standard shorthand of passing the variable name as a keyword.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L117">view source</a></div></div><div class="public anchor" id="var-strobe"><h3>strobe</h3><div class="usage"><code>(strobe name fixtures level lightness)</code></div><div class="doc"><div class="markdown"><p>A compound effect which sets dimmers to the level determined by the show variable <code>:strobe-dimmers</code> (defaulting to 255), assigns a color based on the show variables <code>:strobe-hue</code> (with a default of 277, purple) <code>:strobe-saturation</code> (with a default of 100), and the specified <code>lightness</code> (which may be a dynamic parameter), with a default of 100, which would white out the hue until it was lowered. The effect then sets the fixtures’ strobe channel to the specified <code>level</code>, which may also be a dynamic parameter.</p>
<p>This is designed to be run as a high priority queue, ideally while held and with aftertouch adjusting a cue-introduced variable for <code>level</code> (which is used to control the strobe function of the affected fixtures, setting the strobe speed, and defaults to a middle value). The global strobe color can be adjusted via the show variables, either by aftertouch or by another effect with no assigners, like <a href="afterglow.effects.fun.html#var-adjust-strobe">adjust-strobe</a>.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L253">view source</a></div></div><div class="public anchor" id="var-strobe-2"><h3>strobe-2</h3><div class="usage"><code>(strobe-2 name fixtures level lightness)</code></div><div class="doc"><div class="markdown"><p>An updated version of <a href="afterglow.effects.fun.html#var-strobe">strobe</a> which takes advantage of the new ability to use color variables with rich user interfaces on the web and Ableton Push. A compound effect which sets dimmers to the level determined by the show variable <code>:strobe-dimmers</code> (defaulting to 255), assigns a color based on the show variable <code>:strobe-color</code> (with a default of a fully-saturated purple), and the specified <code>lightness</code> (which may be a dynamic parameter), with a default of 100, which would white out the hue until it was lowered. The effect then sets the fixtures’ strobe channel to the specified <code>level</code>, which may also be a dynamic parameter.</p>
<p>This is designed to be run as a high priority queue, ideally while held and with aftertouch adjusting a cue-introduced variable for <code>level</code> (which is used to control the strobe function of the affected fixtures, setting the strobe speed, and defaults to a middle value). The global strobe color can be adjusted via the show variables, either by aftertouch or by another effect with no assigners, like <a href="afterglow.effects.fun.html#var-adjust-strobe">adjust-strobe</a>.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L314">view source</a></div></div><div class="public anchor" id="var-transition-during-down-beat"><h3>transition-during-down-beat</h3><div class="usage"><code>(transition-during-down-beat snapshot)</code></div><div class="doc"><div class="markdown"><p>A transition phase function which causes the color cycle transition to occur during the down beat of each bar. See <a href="afterglow.effects.fun.html#var-color-cycle-chase">color-cycle-chase</a> for how this is used.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L367">view source</a></div></div><div class="public anchor" id="var-twirl"><h3>twirl</h3><div class="usage"><code>(twirl fixtures &amp; {:keys [x y z radius beats cycles effect-name], :or {x 0.0, y 0.0, z -2.0, radius 0.25, beats 4, cycles 1, effect-name "Twirl"}})</code></div><div class="doc"><div class="markdown"><p>Creates a direction movement effect which aims the lights outward from a point specified by <code>:x</code>, <code>:y</code>, and <code>:z</code>, which defaults to <code>(0, 0, -2)</code>, then displaces the front of that vector by a distance of <code>:radius</code> in the <em>x-y</em> plane (defaulting to <code>0.25</code>) in a direction which rotates around the plane driven by a sawtooth oscillator which defaults to a complete revolution every four beats, but whose beat ratio can be adjusted by the parameters <code>:beats</code> and <code>:cycles</code>, and whose phase is spread across the <em>x</em> axis as a spatial parameter over all fixtures. All parameters other than <code>fixtures</code> can be dynamic or keywords, which will be bound to show variables.</p>
<p>You can override the default effect name of Twirl by passing in another with <code>:effect-name</code>.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L694">view source</a></div></div><div class="public anchor" id="var-wipe-right-color-cycle-chase"><h3>wipe-right-color-cycle-chase</h3><div class="usage"><code>(wipe-right-color-cycle-chase fixtures &amp; {:keys [color-cycle color-index-function transition-phase-function effect-name], :or {color-cycle default-color-cycle, color-index-function rhythm/snapshot-bar-within-phrase, transition-phase-function transition-during-down-beat, effect-name "Wipe Right"}})</code></div><div class="doc"><div class="markdown"><p>Returns an effect which changes color on the down beat of each bar of a phrase, wiping the color from left to right across the show x axis.</p>
<p>You can change the colors used, and when transitions occur, by overriding the default values associated with the optional keyword arguments <code>:color-cycle</code>, <code>:color-index-function</code>, and <code>:transition-phase-function</code>. For details about how these are interpreted, see <a href="afterglow.effects.fun.html#var-color-cycle-chase">color-cycle-chase</a> which is used to implement this chase.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/fun.clj#L527">view source</a></div></div></div></body></html>