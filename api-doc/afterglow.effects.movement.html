<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>afterglow.effects.movement documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Afterglow</span> <span class="project-version">0.2.1-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>afterglow</span></div></div></li><li class="depth-2 branch"><a href="afterglow.beyond.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>beyond</span></div></a></li><li class="depth-2 branch"><a href="afterglow.channels.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channels</span></div></a></li><li class="depth-2"><a href="afterglow.controllers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>controllers</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.ableton-push.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ableton-push</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.launchpad-pro.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>launchpad-pro</span></div></a></li><li class="depth-3"><a href="afterglow.controllers.tempo.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tempo</span></div></a></li><li class="depth-2 branch"><a href="afterglow.core.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="afterglow.coremidi4j.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>coremidi4j</span></div></a></li><li class="depth-2 branch"><a href="afterglow.dj-link.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dj-link</span></div></a></li><li class="depth-2"><a href="afterglow.effects.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>effects</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.channel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channel</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.cues.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cues</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.dimmer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dimmer</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.fun.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fun</span></div></a></li><li class="depth-3 branch current"><a href="afterglow.effects.movement.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>movement</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.oscillators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oscillators</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.params.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>params</span></div></a></li><li class="depth-3"><a href="afterglow.effects.show-variable.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-variable</span></div></a></li><li class="depth-2 branch"><a href="afterglow.examples.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>examples</span></div></a></li><li class="depth-2"><a href="afterglow.fixtures.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fixtures</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.american-dj.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>american-dj</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.blizzard.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>blizzard</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.chauvet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chauvet</span></div></a></li><li class="depth-3"><a href="afterglow.fixtures.qxf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>qxf</span></div></a></li><li class="depth-2 branch"><a href="afterglow.init.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>init</span></div></a></li><li class="depth-2 branch"><a href="afterglow.midi.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>midi</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rhythm</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show-context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-context</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>shows</span></div></div></li><li class="depth-3"><a href="afterglow.shows.sallie.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sallie</span></div></a></li><li class="depth-2 branch"><a href="afterglow.transform.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>transform</span></div></a></li><li class="depth-2 branch"><a href="afterglow.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2 branch"><a href="afterglow.version.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>version</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web</span></div></div></li><li class="depth-3 branch"><a href="afterglow.web.handler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.layout.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>layout</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></div></li><li class="depth-4 branch"><a href="afterglow.web.routes.home.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>home</span></div></a></li><li class="depth-4 branch"><a href="afterglow.web.routes.show-control.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-control</span></div></a></li><li class="depth-4 branch"><a href="afterglow.web.routes.visualizer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>visualizer</span></div></a></li><li class="depth-4"><a href="afterglow.web.routes.web-repl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web-repl</span></div></a></li><li class="depth-3"><a href="afterglow.web.session.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>session</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="afterglow.effects.movement.html#var-aim-effect"><div class="inner"><span>aim-effect</span></div></a></li><li class="depth-1"><a href="afterglow.effects.movement.html#var-current-rotation"><div class="inner"><span>current-rotation</span></div></a></li><li class="depth-1"><a href="afterglow.effects.movement.html#var-default-direction"><div class="inner"><span>default-direction</span></div></a></li><li class="depth-1"><a href="afterglow.effects.movement.html#var-direction-effect"><div class="inner"><span>direction-effect</span></div></a></li><li class="depth-1"><a href="afterglow.effects.movement.html#var-find-moving-heads"><div class="inner"><span>find-moving-heads</span></div></a></li><li class="depth-1"><a href="afterglow.effects.movement.html#var-pan-tilt-effect"><div class="inner"><span>pan-tilt-effect</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">afterglow.effects.movement</h1><div class="doc"><div class="markdown"><p>Effects pipeline functions for working with direction assignments to fixtures and heads.</p></div></div><div class="public anchor" id="var-aim-effect"><h3>aim-effect</h3><div class="usage"><code>(aim-effect name target-point fixtures)</code></div><div class="doc"><div class="markdown"><p>Returns an effect which assigns an aim parameter (most easily created by <a href="afterglow.effects.params.html#var-build-aim-param">build-aim-param</a>) to all moving heads of the fixtures supplied when invoked. The direction is a point in the frame of reference of the show, so standing in the audience facing the show, <code>x</code> increases to the left, <code>y</code> away from the ground, and <code>z</code> towards the audience, and the origin is the center of the show. If a <a href="afterglow.effects.movement.html#var-pan-tilt-effect">pan-tilt-effect</a> or <a href="afterglow.effects.movement.html#var-direction-effect">direction-effect</a> is simultaneously running on the same fixture, this effect will win and override whatever the other effect was trying to do, because this one runs later.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/movement.clj#L107">view source</a></div></div><div class="public anchor" id="var-current-rotation"><h3>current-rotation</h3><div class="usage"><code>(current-rotation head pan tilt)</code></div><div class="doc"><div class="markdown"><p>Given a head and DMX pan and tilt values, calculate a transformation that represents the current orientation of the head as compared to the default orientation of facing directly towards the positive Z axis.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/movement.clj#L59">view source</a></div></div><div class="public anchor" id="var-default-direction"><h3>default-direction</h3><div class="usage"><code>(default-direction head)</code></div><div class="doc"><div class="markdown"><p>Determine the default aiming vector for a head, in other words the direction it aims when sent zero values for its DMX pan and tilt channels.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/movement.clj#L78">view source</a></div></div><div class="public anchor" id="var-direction-effect"><h3>direction-effect</h3><div class="usage"><code>(direction-effect name direction fixtures)</code></div><div class="doc"><div class="markdown"><p>Returns an effect which assigns a direction parameter (most easily created by <a href="afterglow.effects.params.html#var-build-direction-param">build-direction-param</a>) to all moving heads of the fixtures supplied when invoked. The direction is a vector in the frame of reference of the show, so standing in the audience facing the show, <code>x</code> increases to the left, <code>y</code> away from the ground, and <code>z</code> towards the audience. If an <a href="afterglow.effects.movement.html#var-aim-effect">aim-effect</a> is simultaneously running on the same fixture, it will win and override whatever this effect was trying to do, because it runs later. However, if a <a href="afterglow.effects.movement.html#var-pan-tilt-effect">pan-tilt-effect</a> is running, it will run before this one, so this one will win.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/movement.clj#L26">view source</a></div></div><div class="public anchor" id="var-find-moving-heads"><h3>find-moving-heads</h3><div class="usage"><code>(find-moving-heads fixtures)</code></div><div class="doc"><div class="markdown"><p>Returns all heads of the supplied fixtures which are capable of movement, in other words they have either a pan or tilt channel.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/movement.clj#L20">view source</a></div></div><div class="public anchor" id="var-pan-tilt-effect"><h3>pan-tilt-effect</h3><div class="usage"><code>(pan-tilt-effect name pan-tilt fixtures)</code></div><div class="doc"><div class="markdown"><p>Returns an effect which assigns a pan/tilt parameter (most easily created by <a href="afterglow.effects.params.html#var-build-pan-tilt-param">build-pan-tilt-param</a>) to all moving heads of the fixtures supplied when invoked. The pan and tilt values represent angles in the frame of reference of the show, telling how far the head should move away from facing directly along the <code>z</code> axis. (see <a href="https://github.com/brunchboy/afterglow/blob/master/doc/show_space.adoc#show-space">show space</a> for a diagram of the axes).</p>
<p>If a <a href="afterglow.effects.movement.html#var-direction-effect">direction-effect</a> or <a href="afterglow.effects.movement.html#var-aim-effect">aim-effect</a> is simultaneously running on the same fixture, they will win and override whatever this effect was trying to do, because they run later.</p>
<p>If you simply want to set the pan or tilt channels of some fixtures to specific values, without regard to the orientation at which the fixture was hung with respect to show space, you want to use a lower level <a href="afterglow.effects.channel.html#var-function-effect">function-effect</a> with the <code>:pan</code> or <code>:tilt</code> keyword, rather than this effect.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/effects/movement.clj#L161">view source</a></div></div></div></body></html>