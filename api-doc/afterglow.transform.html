<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>afterglow.transform documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Afterglow</span> <span class="project-version">0.2.1-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>afterglow</span></div></div></li><li class="depth-2 branch"><a href="afterglow.beyond.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>beyond</span></div></a></li><li class="depth-2 branch"><a href="afterglow.channels.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channels</span></div></a></li><li class="depth-2"><a href="afterglow.controllers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>controllers</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.ableton-push.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ableton-push</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.launchpad-mini.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>launchpad-mini</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.launchpad-mk2.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>launchpad-mk2</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.launchpad-pro.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>launchpad-pro</span></div></a></li><li class="depth-3"><a href="afterglow.controllers.tempo.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tempo</span></div></a></li><li class="depth-2 branch"><a href="afterglow.core.html"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="afterglow.coremidi4j.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>coremidi4j</span></div></a></li><li class="depth-2 branch"><a href="afterglow.dj-link.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dj-link</span></div></a></li><li class="depth-2"><a href="afterglow.effects.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>effects</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.channel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channel</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.cues.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cues</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.dimmer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dimmer</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.fun.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fun</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.movement.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>movement</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.oscillators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oscillators</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.params.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>params</span></div></a></li><li class="depth-3"><a href="afterglow.effects.show-variable.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-variable</span></div></a></li><li class="depth-2 branch"><a href="afterglow.examples.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>examples</span></div></a></li><li class="depth-2"><a href="afterglow.fixtures.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fixtures</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.american-dj.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>american-dj</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.blizzard.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>blizzard</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.chauvet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chauvet</span></div></a></li><li class="depth-3"><a href="afterglow.fixtures.qxf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>qxf</span></div></a></li><li class="depth-2 branch"><a href="afterglow.init.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>init</span></div></a></li><li class="depth-2 branch"><a href="afterglow.midi.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>midi</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rhythm</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show-context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-context</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>shows</span></div></div></li><li class="depth-3"><a href="afterglow.shows.sallie.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sallie</span></div></a></li><li class="depth-2 branch current"><a href="afterglow.transform.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>transform</span></div></a></li><li class="depth-2 branch"><a href="afterglow.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2 branch"><a href="afterglow.version.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>version</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web</span></div></div></li><li class="depth-3 branch"><a href="afterglow.web.handler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.layout.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>layout</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></div></li><li class="depth-4 branch"><a href="afterglow.web.routes.home.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>home</span></div></a></li><li class="depth-4 branch"><a href="afterglow.web.routes.show-control.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-control</span></div></a></li><li class="depth-4 branch"><a href="afterglow.web.routes.visualizer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>visualizer</span></div></a></li><li class="depth-4"><a href="afterglow.web.routes.web-repl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web-repl</span></div></a></li><li class="depth-3"><a href="afterglow.web.session.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>session</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="afterglow.transform.html#var-aim-to-dmx"><div class="inner"><span>aim-to-dmx</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-angle-to-dmx-value"><div class="inner"><span>angle-to-dmx-value</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-build-distance-measure"><div class="inner"><span>build-distance-measure</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-calculate-bounds"><div class="inner"><span>calculate-bounds</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-degrees"><div class="inner"><span>degrees</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-direction-to-dmx"><div class="inner"><span>direction-to-dmx</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-distance-from-legal-dmx-value"><div class="inner"><span>distance-from-legal-dmx-value</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-feet"><div class="inner"><span>feet</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-find-closest-legal-dmx-value-for-angle"><div class="inner"><span>find-closest-legal-dmx-value-for-angle</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-inches"><div class="inner"><span>inches</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-interpret-rotation"><div class="inner"><span>interpret-rotation</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-invert-direction"><div class="inner"><span>invert-direction</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-max-distance"><div class="inner"><span>max-distance</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-show-head-positions"><div class="inner"><span>show-head-positions</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-transform-fixture-euler"><div class="inner"><span>transform-fixture-euler</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-transform-fixture-relative"><div class="inner"><span>transform-fixture-relative</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-transform-fixture-rotation-matrix"><div class="inner"><span>transform-fixture-rotation-matrix</span></div></a></li><li class="depth-1"><a href="afterglow.transform.html#var-two-pi"><div class="inner"><span>two-pi</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">afterglow.transform</h1><div class="doc"><div class="markdown"><p>Functions for modeling light position and rotation. If you want to make use of Afterglow’s spatial reasoning capabilities, you need to tell it, when patching a fixture, the location and orientation of that fixture.</p>
<p>The coordinate system in afterglow is from the perspective of the audience: Standing facing your show, the X axis passes through it increasing from left to right, the Y axis passes through it increasing away from the floor, and the Z axis passes through it increasing towards the audience. (There is a diagram on the <a href="https://github.com/brunchboy/afterglow/blob/master/doc/show_space.adoc#show-space">Show Space</a> documentation page.)</p>
<p>Pick an origin when setting up your show; in our case it is easiest to use the spot on the floor directly under the center of gravity of the main truss in our lighting rig. Something else may be better for you.</p>
<p>When hanging your lights, measure how far the center of the light is from the origin of the show, in the X, Y, and Z directions. You don’t need to get this precise to the millimeter level, but having it roughly right will make your spatial cues look great.</p>
<p>Distances in Afterglow are expressed in meters, though there are functions in this namespace for translating other units, if you do not have metric measuring tools handy.</p>
<p>Fixture definitions for Afterglow should include information about the positions of the light-emitting heads as offsets from the origin of the fixture, and a description of how to identify the origin of the fixture, so that when you patch the fixture and tell Afterglow the position of that origin with respect to the origin of the light show itself, it can calculate the location of each head.</p>
<p>For this to work you also need to tell Afterglow the orientation in which you have hung the fixture, expressed as a rotation away from the standard orientation described in the fixture definition. Yes, this can be painful to figure out, especially the first few times, and we have ideas about an iPhone app to help automate this, using the phone’s camera and ability to track its own orientation. But until then, figure out how much you have rotated the fixture, in radians, around the X, then Y, then Z axes, in that order, and feed that in as well when patching it.</p>
<p>Again there are functions in this namespace to convert degrees to radians if they are easier for you to work with. In many cases, hopefully, the rotations will be simple. For example, if a light is hanging backwards with respect to its reference orientation, that is a rotation of zero around the X axis, Pi radians about the Y axis, and zero about the Z axis.</p>
<p>If a fixture does not have multiple heads, and is not a moving head fixture, you can generally ignore the rotation completely when patching it. Getting the orientation right is most important for moving heads, because Afterglow relies on having that information in order to figure out how to aim the light where you want it aimed.</p></div></div><div class="public anchor" id="var-aim-to-dmx"><h3>aim-to-dmx</h3><div class="usage"><code>(aim-to-dmx fixture target-point former-values)</code></div><div class="doc"><div class="markdown"><p>Given a fixture or head and a point in the frame of reference of the light show, calculate the best pan and tilt values to send to that fixture or head in order to aim it at that point.</p>
<p>If there is more than one legal solution, return the one that is closest to the former values supplied. If no former values were specified, then use the fixture’s center position as the default target value to stay close to.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L358">view source</a></div></div><div class="public anchor" id="var-angle-to-dmx-value"><h3>angle-to-dmx-value</h3><div class="usage"><code>(angle-to-dmx-value angle center-value half-circle-value)</code></div><div class="doc"><div class="markdown"><p>Given an angle in radians, where positive means counterclockwise around the axis, determine the DMX value needed to achieve that amount of rotation of a fixture away from its center position, given the DMX value of that center position, and the amount the DMX value must change to cause a counterclockwise rotation halfway around a circle. The return value may not be a legal DMX value if the fixture cannot rotate that far; this will be weeded out in other parts of the algorithm.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L219">view source</a></div></div><div class="public anchor" id="var-build-distance-measure"><h3>build-distance-measure</h3><div class="usage"><code>(build-distance-measure x y z &amp; {:keys [ignore-x ignore-y ignore-z]})</code></div><div class="doc"><div class="markdown"><p>Returns a function which calculates the distance from a fixture or head to a specified point, optionally ignoring one or more axes. Useful in building transitions which depend on the locations of lights, perhaps only within certain planes or along a single axis.</p>
<p>The function returned takes a fixture definition, and returns its distance from the configured reference point, after discarding any axes which have been marked as ignored by passing true values along with :ignore-x, :ignore-y, or :ignore-z.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L394">view source</a></div></div><div class="public anchor" id="var-calculate-bounds"><h3>calculate-bounds</h3><div class="usage"><code>(calculate-bounds fixtures)</code></div><div class="doc"><div class="markdown"><p>Given a list of fixtures, determine the corners of the smallest box which contains them all, and the center of that box.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L376">view source</a></div></div><div class="public anchor" id="var-degrees"><h3>degrees</h3><div class="usage"><code>(degrees deg)</code></div><div class="doc"><div class="markdown"><p>Converts a number of degrees into the corresponding number of radians.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L75">view source</a></div></div><div class="public anchor" id="var-direction-to-dmx"><h3>direction-to-dmx</h3><div class="usage"><code>(direction-to-dmx fixture direction former-values)</code></div><div class="doc"><div class="markdown"><p>Given a fixture or head and vector representing a direction in the frame of reference of the light show, calculate the best pan and tilt values to send to that fixture or head in order to aim it in that direction.</p>
<p>If there is more than one legal solution, return the one that is closest to the former values supplied. If no former values were specified, then use the fixture’s center position as the default target value to stay close to.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L333">view source</a></div></div><div class="public anchor" id="var-distance-from-legal-dmx-value"><h3>distance-from-legal-dmx-value</h3><div class="usage"><code>(distance-from-legal-dmx-value value)</code></div><div class="doc"><div class="markdown"><p>Measure how far a value is from being within the legal DMX range, to help choose the least-worst solution if a fixture cannot actually reach the desired position.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L231">view source</a></div></div><div class="public anchor" id="var-feet"><h3>feet</h3><div class="usage"><code>(feet f)</code></div><div class="doc"><div class="markdown"><p>Converts a number of feet to the corresponding number of meters.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L70">view source</a></div></div><div class="public anchor" id="var-find-closest-legal-dmx-value-for-angle"><h3>find-closest-legal-dmx-value-for-angle</h3><div class="usage"><code>(find-closest-legal-dmx-value-for-angle angle center-value half-circle-value &amp; {:keys [target-value], :or {target-value center-value}})</code></div><div class="doc"><div class="markdown"><p>Given a desired rotation from the center position (expressed in radians, with positive values representing counterclockwise rotations around the axis), the DMX value at which the fixture is in its center position, and the amount the DMX value must change in order to cause a counterclockwise rotation halfway around a circle, find the DMX value which achieves that rotation, or if that is not possible, the legal value which yields the closest possible approximation, considering forward and backward rotations beyond a full circle if necessary. Return a tuple of the resulting value and a boolean indicating whether it achieves the desired angle.</p>
<p>If there is more than one legal solution, return the one that is closest to the specified target value. If no target value is specified (using the keyword parameter :target-value), then use the fixture’s center position as the default target value to stay close to.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L240">view source</a></div></div><div class="public anchor" id="var-inches"><h3>inches</h3><div class="usage"><code>(inches in)</code></div><div class="doc"><div class="markdown"><p>Converts a number of inches to the corresponding number of meters.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L65">view source</a></div></div><div class="public anchor" id="var-interpret-rotation"><h3>interpret-rotation</h3><div class="usage"><code>(interpret-rotation head)</code></div><div class="doc"><div class="markdown"><p>Given a fixture definition or head, checks whether it has been assigned extrinsic (Euler) angle rotations, or a list of intrinsic rotations. Either way, construct and return the appropriate rotation matrix to represent its orientation.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L81">view source</a></div></div><div class="public anchor" id="var-invert-direction"><h3>invert-direction</h3><div class="usage"><code>(invert-direction fixture direction)</code></div><div class="doc"><div class="markdown"><p>Transform a direction vector in show coordinate space to the way it appears to a head or fixture that has been rotated when hanging.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L207">view source</a></div></div><div class="public anchor" id="var-max-distance"><h3>max-distance</h3><div class="usage"><code>(max-distance measure fixtures)</code></div><div class="doc"><div class="markdown"><p>Calculates the maximum distance that will ever be returned by a distance measure for a set of fixtures.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L410">view source</a></div></div><div class="public anchor" id="var-show-head-positions"><h3>show-head-positions</h3><div class="usage"><code>(show-head-positions fixtures)</code></div><div class="doc"><div class="markdown"><p>To help sanity-check fixtures’ position and orientation after patching them, displays the positions of all heads of the list of fixtures supplied. In the resulting list, top-level fixtures will be identifiable by the presence of their :key entry in the map that includes their position, and will be followed by their heads, if any, until the next top-level fixture entry.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L192">view source</a></div></div><div class="public anchor" id="var-transform-fixture-euler"><h3>transform-fixture-euler</h3><div class="usage"><code>(transform-fixture-euler fixture x y z x-rotation y-rotation z-rotation)</code></div><div class="doc"><div class="markdown"><p>Determine the positions and orientations of the fixture and its heads when it is patched into a show. <code>x</code>, <code>y</code>, and <code>z</code> are the position of the fixture’s origin point with respect to the show’s origin.</p>
<p>The fixture rotation is expressed as Euler angles in <code>x-rotation</code>, <code>y-rotation</code>, and <code>z-rotation</code>. These are interpreted as the counter-clockwise extrinsic rotations around the show space axes, in that order, needed to get the fixture from its reference orientation to the orientation in which it was actually hung. Extrinsic means that the axes are always the fixed axes of show space, they do not change as you rotate the fixture.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L139">view source</a></div></div><div class="public anchor" id="var-transform-fixture-relative"><h3>transform-fixture-relative</h3><div class="usage"><code>(transform-fixture-relative fixture x y z relative-rotations)</code></div><div class="doc"><div class="markdown"><p>Determine the positions and orientations of the fixture and its heads when it is patched into a show. <code>x</code>, <code>y</code>, and <code>z</code> are the position of the fixture’s origin point with respect to the show’s origin.</p>
<p>The fixture rotation is expressed as a list of <code>relative-rotations</code> in any order. Each list element is a tuple of the rotation type (<code>:x-rotation</code>, <code>:y-rotation</code>, or <code>:z-rotation</code>) and the counter-clockwise angle in radians around that axis which the fixture should be rotated. The fixtue starts at its reference orientation, and these intrinsic rotations are applied, in order, always from the frame of reference of the fixture, including any accumulated previous rotations.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L157">view source</a></div></div><div class="public anchor" id="var-transform-fixture-rotation-matrix"><h3>transform-fixture-rotation-matrix</h3><div class="usage"><code>(transform-fixture-rotation-matrix fixture x y z rotation)</code></div><div class="doc"><div class="markdown"><p>Determine the positions and orientations of the fixture and its heads when it is patched into a show. <code>x</code>, <code>y</code>, and <code>z</code> are the position of the fixture’s origin point with respect to the show’s origin.</p>
<p>The fixture rotation is expressed as a <code>javax.media.j3d.Transform3D</code> matrix containing only rotational components which represents the transformation needed to get the fixture from its reference orientation to the orientation at which it was actually hung.</p>
<p>This function is useful when you are precomupting a set of rotations based on groups of fixtures that are being patched as an assembly.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L176">view source</a></div></div><div class="public anchor" id="var-two-pi"><h3>two-pi</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The angle which represents a full rotation around a circle.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/transform.clj#L203">view source</a></div></div></div></body></html>