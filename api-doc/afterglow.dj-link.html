<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>afterglow.dj-link documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Afterglow</span> <span class="project-version">0.2.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>afterglow</span></div></div></li><li class="depth-2 branch"><a href="afterglow.beyond.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>beyond</span></div></a></li><li class="depth-2 branch"><a href="afterglow.channels.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channels</span></div></a></li><li class="depth-2"><a href="afterglow.controllers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>controllers</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.ableton-push.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ableton-push</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.ableton-push-2.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ableton-push-2</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.launchpad-mini.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>launchpad-mini</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.launchpad-mk2.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>launchpad-mk2</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.launchpad-pro.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>launchpad-pro</span></div></a></li><li class="depth-3"><a href="afterglow.controllers.tempo.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tempo</span></div></a></li><li class="depth-2 branch"><a href="afterglow.core.html"><div class="inner"><span class="tree" style="top: -238px;"><span class="top" style="height: 247px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="afterglow.coremidi4j.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>coremidi4j</span></div></a></li><li class="depth-2 branch current"><a href="afterglow.dj-link.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dj-link</span></div></a></li><li class="depth-2"><a href="afterglow.effects.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>effects</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.channel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channel</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.cues.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cues</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.dimmer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dimmer</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.fun.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fun</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.movement.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>movement</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.oscillators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oscillators</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.params.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>params</span></div></a></li><li class="depth-3"><a href="afterglow.effects.show-variable.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-variable</span></div></a></li><li class="depth-2 branch"><a href="afterglow.examples.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>examples</span></div></a></li><li class="depth-2"><a href="afterglow.fixtures.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fixtures</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.american-dj.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>american-dj</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.blizzard.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>blizzard</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.chauvet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chauvet</span></div></a></li><li class="depth-3"><a href="afterglow.fixtures.qxf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>qxf</span></div></a></li><li class="depth-2 branch"><a href="afterglow.init.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>init</span></div></a></li><li class="depth-2 branch"><a href="afterglow.midi.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>midi</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rhythm</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show-context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-context</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>shows</span></div></div></li><li class="depth-3"><a href="afterglow.shows.sallie.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sallie</span></div></a></li><li class="depth-2 branch"><a href="afterglow.transform.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>transform</span></div></a></li><li class="depth-2 branch"><a href="afterglow.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2 branch"><a href="afterglow.version.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>version</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web</span></div></div></li><li class="depth-3 branch"><a href="afterglow.web.handler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.layout.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>layout</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></div></li><li class="depth-4 branch"><a href="afterglow.web.routes.home.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>home</span></div></a></li><li class="depth-4 branch"><a href="afterglow.web.routes.show-control.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-control</span></div></a></li><li class="depth-4 branch"><a href="afterglow.web.routes.visualizer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>visualizer</span></div></a></li><li class="depth-4"><a href="afterglow.web.routes.web-repl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web-repl</span></div></a></li><li class="depth-3"><a href="afterglow.web.session.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>session</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="afterglow.dj-link.html#var-current-dj-link-sources"><div class="inner"><span>current-dj-link-sources</span></div></a></li><li class="depth-1"><a href="afterglow.dj-link.html#var-filter-sources"><div class="inner"><span>filter-sources</span></div></a></li><li class="depth-1"><a href="afterglow.dj-link.html#var-find-source"><div class="inner"><span>find-source</span></div></a></li><li class="depth-1"><a href="afterglow.dj-link.html#var-find-source-by-name"><div class="inner"><span>find-source-by-name</span></div></a></li><li class="depth-1"><a href="afterglow.dj-link.html#var-max-packet-interval"><div class="inner"><span>max-packet-interval</span></div></a></li><li class="depth-1"><a href="afterglow.dj-link.html#var-port"><div class="inner"><span>port</span></div></a></li><li class="depth-1"><a href="afterglow.dj-link.html#var-shut-down"><div class="inner"><span>shut-down</span></div></a></li><li class="depth-1"><a href="afterglow.dj-link.html#var-start"><div class="inner"><span>start</span></div></a></li><li class="depth-1"><a href="afterglow.dj-link.html#var-start-if-needed"><div class="inner"><span>start-if-needed</span></div></a></li><li class="depth-1"><a href="afterglow.dj-link.html#var-sync-to-dj-link"><div class="inner"><span>sync-to-dj-link</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">afterglow.dj-link</h1><div class="doc"><div class="markdown"><p>Provides synchronization with equipment sending Pioneer Pro DJ Link packets on the local network, such as Pioneer Nexus mixers and players. This is purely experimental and based on network traffic capture, but unless they change the protocol, it works really well, providing rock solid BPM, beat, and measure-phase tracking.</p></div></div><div class="public anchor" id="var-current-dj-link-sources"><h3>current-dj-link-sources</h3><div class="usage"><code>(current-dj-link-sources)</code></div><div class="doc"><div class="markdown"><p>Returns the set of potential Pro DJ Link synchronization sources which are currently visible on the network.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/v0.2.1/src/afterglow/dj_link.clj#L190">view source</a></div></div><div class="public anchor" id="var-filter-sources"><h3>filter-sources</h3><div class="usage"><code>(filter-sources name-filter)</code></div><div class="doc"><div class="markdown"><p>Return a set of only those sources whose name matches the specified pattern. name-filter can either be a Pattern, or a string which will be turned into a pattern which matches in a case-insensitive way anywhere in the name.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/v0.2.1/src/afterglow/dj_link.clj#L198">view source</a></div></div><div class="public anchor" id="var-find-source"><h3>find-source</h3><div class="usage"><code>(find-source source)</code></div><div class="doc"><div class="markdown"><p>Makes sure the supplied DJ Link source is current and valid. Returns it, or throws an exception.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/v0.2.1/src/afterglow/dj_link.clj#L224">view source</a></div></div><div class="public anchor" id="var-find-source-by-name"><h3>find-source-by-name</h3><div class="usage"><code>(find-source-by-name name-filter)</code></div><div class="doc"><div class="markdown"><p>Looks up a source with a name that matches the specified pattern. name-filter can either be a Pattern, or a string which will be turned into a pattern which matches in a case-insensitive way anywhere in the name. Returns the single matching source found, or throws an exception.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/v0.2.1/src/afterglow/dj_link.clj#L211">view source</a></div></div><div class="public anchor" id="var-max-packet-interval"><h3>max-packet-interval</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The number of milliseconds after which we will consider a source to have disappeared if we have not heard any packets from it.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/v0.2.1/src/afterglow/dj_link.clj#L57">view source</a></div></div><div class="public anchor" id="var-port"><h3>port</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The UDP port on which BPM and beat packets are broadcast.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/v0.2.1/src/afterglow/dj_link.clj#L15">view source</a></div></div><div class="public anchor" id="var-shut-down"><h3>shut-down</h3><div class="usage"><code>(shut-down)</code></div><div class="doc"><div class="markdown"><p>Close the UDP server socket and terminate the packet processing thread, if they are active.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/v0.2.1/src/afterglow/dj_link.clj#L28">view source</a></div></div><div class="public anchor" id="var-start"><h3>start</h3><div class="usage"><code>(start)</code></div><div class="doc"><div class="markdown"><p>Make sure the UDP server socket is open and the packet reception thread is running, starting fresh if need be.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/v0.2.1/src/afterglow/dj_link.clj#L114">view source</a></div></div><div class="public anchor" id="var-start-if-needed"><h3>start-if-needed</h3><div class="usage"><code>(start-if-needed)</code></div><div class="doc"><div class="markdown"><p>If there is not already a socket receiving DJ Link packets, set it up.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/v0.2.1/src/afterglow/dj_link.clj#L139">view source</a></div></div><div class="public anchor" id="var-sync-to-dj-link"><h3>sync-to-dj-link</h3><div class="usage"><code>(sync-to-dj-link dj-link-source)</code></div><div class="doc"><div class="markdown"><p>Returns a sync function that will cause the beats-per-minute setting of the supplied metronome to track the values received from the specified DJ Link transmitter on the local network. The sync source can be specified either as a map that would be returned from <a href="afterglow.dj-link.html#var-current-dj-link-sources">current-dj-link-sources</a>, or a regex <code>Pattern</code>, or a simple string, which will be converted into a case-insensitve pattern matching anywhere in the source name. This method is intended for use with <a href="afterglow.show.html#var-sync-to-external-clock">show/sync-to-external-clock</a>.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/v0.2.1/src/afterglow/dj_link.clj#L231">view source</a></div></div></div></body></html>