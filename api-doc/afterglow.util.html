<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>afterglow.util documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Afterglow</span> <span class="project-version">0.2.2</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>afterglow</span></div></div></li><li class="depth-2 branch"><a href="afterglow.beyond.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>beyond</span></div></a></li><li class="depth-2 branch"><a href="afterglow.channels.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channels</span></div></a></li><li class="depth-2"><a href="afterglow.controllers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>controllers</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.ableton-push.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ableton-push</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.ableton-push-2.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ableton-push-2</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.launchpad-mini.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>launchpad-mini</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.launchpad-mk2.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>launchpad-mk2</span></div></a></li><li class="depth-3 branch"><a href="afterglow.controllers.launchpad-pro.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>launchpad-pro</span></div></a></li><li class="depth-3"><a href="afterglow.controllers.tempo.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tempo</span></div></a></li><li class="depth-2 branch"><a href="afterglow.core.html"><div class="inner"><span class="tree" style="top: -238px;"><span class="top" style="height: 247px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="afterglow.coremidi4j.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>coremidi4j</span></div></a></li><li class="depth-2 branch"><a href="afterglow.dj-link.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dj-link</span></div></a></li><li class="depth-2"><a href="afterglow.effects.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>effects</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.channel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>channel</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.color.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.cues.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cues</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.dimmer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dimmer</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.fun.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fun</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.movement.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>movement</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.oscillators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oscillators</span></div></a></li><li class="depth-3 branch"><a href="afterglow.effects.params.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>params</span></div></a></li><li class="depth-3"><a href="afterglow.effects.show-variable.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-variable</span></div></a></li><li class="depth-2 branch"><a href="afterglow.examples.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>examples</span></div></a></li><li class="depth-2"><a href="afterglow.fixtures.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fixtures</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.american-dj.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>american-dj</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.blizzard.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>blizzard</span></div></a></li><li class="depth-3 branch"><a href="afterglow.fixtures.chauvet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chauvet</span></div></a></li><li class="depth-3"><a href="afterglow.fixtures.qxf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>qxf</span></div></a></li><li class="depth-2 branch"><a href="afterglow.init.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>init</span></div></a></li><li class="depth-2 branch"><a href="afterglow.midi.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>midi</span></div></a></li><li class="depth-2 branch"><a href="afterglow.rhythm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rhythm</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show</span></div></a></li><li class="depth-2 branch"><a href="afterglow.show-context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-context</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>shows</span></div></div></li><li class="depth-3"><a href="afterglow.shows.sallie.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sallie</span></div></a></li><li class="depth-2 branch"><a href="afterglow.transform.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>transform</span></div></a></li><li class="depth-2 branch current"><a href="afterglow.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2 branch"><a href="afterglow.version.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>version</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web</span></div></div></li><li class="depth-3 branch"><a href="afterglow.web.handler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.layout.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>layout</span></div></a></li><li class="depth-3 branch"><a href="afterglow.web.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></div></li><li class="depth-4 branch"><a href="afterglow.web.routes.home.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>home</span></div></a></li><li class="depth-4 branch"><a href="afterglow.web.routes.show-control.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>show-control</span></div></a></li><li class="depth-4 branch"><a href="afterglow.web.routes.visualizer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>visualizer</span></div></a></li><li class="depth-4"><a href="afterglow.web.routes.web-repl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web-repl</span></div></a></li><li class="depth-3"><a href="afterglow.web.session.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>session</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="afterglow.util.html#var-contrasting-text-color"><div class="inner"><span>contrasting-text-color</span></div></a></li><li class="depth-1"><a href="afterglow.util.html#var-find-closest-key"><div class="inner"><span>find-closest-key</span></div></a></li><li class="depth-1"><a href="afterglow.util.html#var-float-epsilon"><div class="inner"><span>float-epsilon</span></div></a></li><li class="depth-1"><a href="afterglow.util.html#var-float.3C"><div class="inner"><span>float&lt;</span></div></a></li><li class="depth-1"><a href="afterglow.util.html#var-float.3C.3D"><div class="inner"><span>float&lt;=</span></div></a></li><li class="depth-1"><a href="afterglow.util.html#var-float.3D"><div class="inner"><span>float=</span></div></a></li><li class="depth-1"><a href="afterglow.util.html#var-float.3E"><div class="inner"><span>float&gt;</span></div></a></li><li class="depth-1"><a href="afterglow.util.html#var-float.3E.3D"><div class="inner"><span>float&gt;=</span></div></a></li><li class="depth-1"><a href="afterglow.util.html#var-normalize-cue-variable-value"><div class="inner"><span>normalize-cue-variable-value</span></div></a></li><li class="depth-1"><a href="afterglow.util.html#var-ubyte"><div class="inner"><span>ubyte</span></div></a></li><li class="depth-1"><a href="afterglow.util.html#var-unsign"><div class="inner"><span>unsign</span></div></a></li><li class="depth-1"><a href="afterglow.util.html#var-valid-dmx-value.3F"><div class="inner"><span>valid-dmx-value?</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">afterglow.util</h1><div class="doc"><div class="markdown"><p>Utility functions that are likely to be widely useful</p></div></div><div class="public anchor" id="var-contrasting-text-color"><h3>contrasting-text-color</h3><div class="usage"><code>(contrasting-text-color color)</code></div><div class="doc"><div class="markdown"><p>If the default text color of white will be hard to read against a cell assigned the specified color, returns black. Otherwise returns white. Both are in the form of hex strings suitable for use in a CSS style.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/util.clj#L94">view source</a></div></div><div class="public anchor" id="var-find-closest-key"><h3>find-closest-key</h3><div class="usage"><code>(find-closest-key sm k)</code></div><div class="doc"><div class="markdown"><p>Finds the key closest to the one specified in a sorted map.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/util.clj#L26">view source</a></div></div><div class="public anchor" id="var-float-epsilon"><h3>float-epsilon</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The tolerance value for comparing two floating point numbers. If the difference between the values is smaller than this, after scaling appropriately for very small or very large numbers, they will be considered equal.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/util.clj#L42">view source</a></div></div><div class="public anchor" id="var-float.3C"><h3>float&lt;</h3><div class="usage"><code>(float&lt; x y)</code><code>(float&lt; x y epsilon)</code></div><div class="doc"><div class="markdown"><p>Checks whether <code>x</code> is less than <code>y</code> with an equality tolerance specified by <code>epsilon</code>, which defaults to <code>float-epsilon</code> if not provided.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/util.clj#L65">view source</a></div></div><div class="public anchor" id="var-float.3C.3D"><h3>float&lt;=</h3><div class="usage"><code>(float&lt;= x y)</code><code>(float&lt;= x y epsilon)</code></div><div class="doc"><div class="markdown"><p>Checks whether <code>x</code> is less than or equal to <code>y</code> with an equality tolerance specified by <code>epsilon</code>, which defaults to <code>float-epsilon</code> if not provided.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/util.clj#L80">view source</a></div></div><div class="public anchor" id="var-float.3D"><h3>float=</h3><div class="usage"><code>(float= x y)</code><code>(float= x y epsilon)</code></div><div class="doc"><div class="markdown"><p>Compare two floating point numbers for equality, with a tolerance specified by <code>epsilon</code>, which defaults to <code>float-epsilon</code> if not provided.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/util.clj#L57">view source</a></div></div><div class="public anchor" id="var-float.3E"><h3>float&gt;</h3><div class="usage"><code>(float&gt; x y)</code><code>(float&gt; x y epsilon)</code></div><div class="doc"><div class="markdown"><p>Checks whether <code>x</code> is greater than <code>y</code> with an equality tolerance specified by <code>epsilon</code>, which defaults to <code>float-epsilon</code> if not provided.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/util.clj#L73">view source</a></div></div><div class="public anchor" id="var-float.3E.3D"><h3>float&gt;=</h3><div class="usage"><code>(float&gt;= x y)</code><code>(float&gt;= x y epsilon)</code></div><div class="doc"><div class="markdown"><p>Checks whether <code>x</code> is greater than or equal to <code>y</code> with an equality tolerance specified by <code>epsilon</code>, which defaults to <code>float-epsilon</code> if not provided.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/util.clj#L87">view source</a></div></div><div class="public anchor" id="var-normalize-cue-variable-value"><h3>normalize-cue-variable-value</h3><div class="usage"><code>(normalize-cue-variable-value var-spec raw)</code></div><div class="doc"><div class="markdown"><p>Given a raw value that has been looked up for a cue variable, convert it to the appropriate type based on the variable specification.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/util.clj#L107">view source</a></div></div><div class="public anchor" id="var-ubyte"><h3>ubyte</h3><div class="usage"><code>(ubyte val)</code></div><div class="doc"><div class="markdown"><p>Convert small integer to its signed byte equivalent. Necessary for convenient handling of DMX values in the range 0-255, since Java does not have unsigned numbers.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/util.clj#L7">view source</a></div></div><div class="public anchor" id="var-unsign"><h3>unsign</h3><div class="usage"><code>(unsign val)</code></div><div class="doc"><div class="markdown"><p>Convert a signed byte to its unsigned int equivalent, in the range 0-255.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/util.clj#L15">view source</a></div></div><div class="public anchor" id="var-valid-dmx-value.3F"><h3>valid-dmx-value?</h3><div class="usage"><code>(valid-dmx-value? v)</code></div><div class="doc"><div class="markdown"><p>Checks that the supplied value is within the legal range for a DMX channel assignment.</p></div></div><div class="src-link"><a href="https://github.com/brunchboy/afterglow/blob/master/src/afterglow/util.clj#L20">view source</a></div></div></div></body></html>